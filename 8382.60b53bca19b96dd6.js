"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8382],{8382:(so,E,f)=>{f.r(E),f.d(E,{FillFormPageModule:()=>ao});var p=f(6895),s=f(4006),l=f(8058),I=f(3317),d=f(655),K=f(5838),e=f(8256),X=f(727);class W extends X.w0{constructor(a,t){super()}schedule(a,t=0){return this}}const w={setInterval(i,a,...t){const{delegate:n}=w;return n?.setInterval?n.setInterval(i,a,...t):setInterval(i,a,...t)},clearInterval(i){const{delegate:a}=w;return(a?.clearInterval||clearInterval)(i)},delegate:void 0};var ee=f(8737),ne=f(6063);class C{constructor(a,t=C.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,n){return new this.schedulerActionCtor(this,a).schedule(n,t)}}C.now=ne.l.now;const oe=new class ie extends C{constructor(a,t=C.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let n;this._active=!0;do{if(n=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,n){for(;a=t.shift();)a.unsubscribe();throw n}}}(class te extends W{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var n;if(this.closed)return this;this.state=a;const o=this.id,r=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(r,o,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,t),this}requestAsyncId(a,t,n=0){return w.setInterval(a.flush.bind(a,this),n)}recycleAsyncId(a,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&w.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(a,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let o,n=!1;try{this.work(a)}catch(r){n=!0,o=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(n,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}});var ae=f(4482),re=f(5403);function T(i,a=oe){return(0,ae.e)((t,n)=>{let o=null,r=null,c=null;const u=()=>{if(o){o.unsubscribe(),o=null;const _=r;r=null,n.next(_)}};function m(){const _=c+i,h=a.now();if(h<_)return o=this.schedule(void 0,_-h),void n.add(o);u()}t.subscribe((0,re.x)(n,_=>{r=_,c=a.now(),o||(o=a.schedule(m,i),n.add(o))},()=>{u(),n.complete()},void 0,()=>{r=o=null}))})}function se(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function le(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ce(i,a){if(1&i&&(e.ynx(0),e.YNc(1,le,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.addressForm.get("address").hasError(t.type)&&(n.addressForm.get("address").dirty||n.addressForm.get("address").touched))}}function pe(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function de(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ue(i,a){if(1&i&&(e.ynx(0),e.YNc(1,de,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.addressForm.get("city").hasError(t.type)&&(n.addressForm.get("city").dirty||n.addressForm.get("city").touched))}}function _e(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function me(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ge(i,a){if(1&i&&(e.ynx(0),e.YNc(1,me,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.addressForm.get("state").hasError(t.type)&&(n.addressForm.get("state").dirty||n.addressForm.get("state").touched))}}function he(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function fe(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function ve(i,a){if(1&i&&(e.ynx(0),e.YNc(1,fe,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.addressForm.get("pincode").hasError(t.type)&&(n.addressForm.get("pincode").dirty||n.addressForm.get("pincode").touched))}}function xe(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function be(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Fe(i,a){if(1&i&&(e.ynx(0),e.YNc(1,be,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.addressForm.get("country").hasError(t.type)&&(n.addressForm.get("country").dirty||n.addressForm.get("country").touched))}}let S=(()=>{class i{constructor(){this.addressEvent=new e.vpe,this.attribute_lang={},this.address_status=!1,this.validationMessages={address:[{type:"required",message:"Address is required"}],city:[{type:"required",message:"City is required"}],state:[{type:"required",message:"State is required"}],pincode:[{type:"required",message:"Pincode is required"}],country:[{type:"required",message:"Country is required"}]}}ngOnInit(){var t,n,o,r,c,u,m;this.attribute_lang=null===(t=this.item.value)||void 0===t?void 0:t.attribute_lang,console.log(null===(n=this.item)||void 0===n?void 0:n.value),this.addressForm=new s.cw({address:new s.NI(null===(o=this.item.value.value)||void 0===o?void 0:o.address,this.item.value.is_required?[s.kI.required]:[]),city:new s.NI(null===(r=this.item.value.value)||void 0===r?void 0:r.city,this.item.value.is_required?[s.kI.required]:[]),state:new s.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.state,this.item.value.is_required?[s.kI.required]:[]),pincode:new s.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.pincode,this.item.value.is_required?[s.kI.required]:[]),country:new s.NI(null===(m=this.item.value.value)||void 0===m?void 0:m.country,this.item.value.is_required?[s.kI.required]:[])}),this.address_status=this.item.value.is_locked,this.addressForm.valueChanges.pipe(T(500)).subscribe(_=>{this.addressEvent.emit(_)})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-address"]],inputs:{item:"item",isRequired:"isRequired"},outputs:{addressEvent:"addressEvent"},decls:33,vars:17,consts:[[3,"formGroup"],[3,"disabled"],[1,"form-group"],["class","compulsory",4,"ngIf"],["formControlName","address","rows","5","placeholder","Type something here"],[4,"ngFor","ngForOf"],["type","text","formControlName","city"],["type","text","formControlName","state"],["type","text","formControlName","pincode"],["type","text","formControlName","country"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"div",2)(4,"label"),e._uU(5),e.YNc(6,se,2,0,"span",3),e.qZA(),e._UZ(7,"ion-textarea",4),e.YNc(8,ce,2,1,"ng-container",5),e.qZA(),e.TgZ(9,"div",2)(10,"label"),e._uU(11),e.YNc(12,pe,2,0,"span",3),e.qZA(),e._UZ(13,"ion-input",6),e.YNc(14,ue,2,1,"ng-container",5),e.qZA(),e.TgZ(15,"div",2)(16,"label"),e._uU(17),e.YNc(18,_e,2,0,"span",3),e.qZA(),e._UZ(19,"ion-input",7),e.YNc(20,ge,2,1,"ng-container",5),e.qZA(),e.TgZ(21,"div",2)(22,"label"),e._uU(23),e.YNc(24,he,2,0,"span",3),e.qZA(),e._UZ(25,"ion-input",8),e.YNc(26,ve,2,1,"ng-container",5),e.qZA(),e.TgZ(27,"div",2)(28,"label"),e._uU(29),e.YNc(30,xe,2,0,"span",3),e.qZA(),e._UZ(31,"ion-input",9),e.YNc(32,Fe,2,1,"ng-container",5),e.qZA()()()()),2&t&&(e.Q6J("formGroup",n.addressForm),e.xp6(1),e.Q6J("disabled",n.address_status),e.xp6(4),e.hij("",null==n.attribute_lang?null:n.attribute_lang.address," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",n.validationMessages.address),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.city," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",n.validationMessages.city),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.state," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",n.validationMessages.state),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.pincode," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",n.validationMessages.pincode),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.country," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",n.validationMessages.country))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.PM,l.FN,l.pK,l.g2,l.j9,s.sg,s.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}"]}),i})();var b=f(7391);let A=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-content-uploading"]],decls:7,vars:2,consts:[[1,"ion-padding","my-popup"],[2,"text-align","center"],["src","assets/images/loader2.gif","width","300px"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0)(1,"h3"),e._uU(2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"img",2),e.qZA(),e.TgZ(5,"p",1),e._uU(6),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(n.heading),e.xp6(4),e.Oqu(n.content))},dependencies:[l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #EEEEEE !important}"]}),i})();function ye(i,a){1&i&&(e.TgZ(0,"p"),e._uU(1,"Recheck your photo before submitting."),e.qZA())}function Ze(i,a){1&i&&(e.TgZ(0,"p"),e._uU(1,"Recheck your pdf before submitting."),e.qZA())}function Te(i,a){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"img",4),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imgPath,e.LSH)}}function Ie(i,a){1&i&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.qZA())}let k=(()=>{class i{constructor(t){this.modalController=t,this.isModalOpen=!1}ngOnInit(){}setOpen(t){this.isModalOpen=t}uploadExit(){this.modalController.dismiss("start_upload")}exitScreen(){this.modalController.dismiss()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-image-popup"]],decls:7,vars:4,consts:[[1,"ion-padding"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],["type","button","ion-button","","size","full",3,"click"],[1,"selected-image",3,"src"],[2,"text-align","center"],["src","assets/images/pdf_icon.jpg","width","300px"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0),e.YNc(1,ye,2,0,"p",1),e.YNc(2,Ze,2,0,"p",1),e.YNc(3,Te,2,1,"div",1),e.YNc(4,Ie,2,0,"div",2),e.TgZ(5,"ion-button",3),e.NdJ("click",function(){return n.uploadExit()}),e._uU(6,"Upload"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngIf","image"==n.type),e.xp6(1),e.Q6J("ngIf","pdf"==n.type),e.xp6(1),e.Q6J("ngIf","image"==n.type),e.xp6(1),e.Q6J("ngIf","pdf"==n.type))},dependencies:[p.O5,l.YG,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #fff !important}.selected-image[_ngcontent-%COMP%]{width:100%;height:400px;object-fit:contain;border-radius:20px}"]}),i})();var q=f(1692),F=f(1270);const Ce=["fileInput"];function ke(i,a){1&i&&(e.TgZ(0,"ion-item",14)(1,"p"),e._uU(2,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA()())}function qe(i,a){1&i&&(e.TgZ(0,"span",15),e._uU(1,"*"),e.qZA())}function Pe(i,a){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",17),e.TgZ(2,"div")(3,"span",18),e._uU(4,"Choose File"),e.qZA()()())}function we(i,a){if(1&i&&e._UZ(0,"img",19),2&i){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function Ae(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"img",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.removeFile())}),e.qZA()}}function Ue(i,a){if(1&i&&(e.TgZ(0,"div",21)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Ne(i,a){if(1&i&&(e.TgZ(0,"div",23)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Me(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Ne,3,1,"div",22),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.fileUploadForm.get("value").hasError(t.type)&&(n.fileUploadForm.get("value").dirty||n.fileUploadForm.get("value").touched))}}let J=(()=>{class i{constructor(t,n,o){this.globalService=t,this.formApiService=n,this.modalController=o,this.fileUploadEvent=new e.vpe,this.uploadSubmit=!1,this.uploadedID=!1,this.attribute_lang={},this.uploadPDFFileName="",this.file_status=!1,this.document_status="",this.validationMessages={value:[{type:"required",message:"File is required"}]}}ngOnInit(){var t,n,o,r;this.attribute_lang=this.item.value.attribute_lang,!(null===(n=null===(t=this.item)||void 0===t?void 0:t.value)||void 0===n)&&n.value&&(""!=this.item.value.valueh&&(this.uploadPDFFileName=this.item.value.value.split("/").pop()),this.imgPath="pdf"==this.item.value.value.split(".").pop()?"assets/images/pdf_icon.jpg":null===(r=null===(o=this.item)||void 0===o?void 0:o.value)||void 0===r?void 0:r.value),this.file_status=this.item.value.is_locked,this.fileUploadForm=new s.cw({value:new s.NI(this.item.value.value,this.item.value.is_required?[s.kI.required]:[])}),this.globalService.fileUploadEvent.subscribe(c=>{c?.forEach(u=>{this.document_status=u.status})})}takePhoto(){return(0,d.mG)(this,void 0,void 0,function*(){this.fileInput.nativeElement.click()})}uploadPhoto(t){const n=t.target.files[0];if(this.extension=n.type,this.uploadPDFFileName=n.name,n.size>=b.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=r=>{let c=r.target.result;this.imgPath=c,this.openImageModal(c),"application/pdf"==this.extension&&(this.imgPath="assets/images/pdf_icon.jpg")},o.readAsDataURL(n),this.selectedFile=n}}openImageModal(t){return(0,d.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:k,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"application/pdf"==this.extension?"pdf":"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(n=>{"start_upload"==n.data&&this.uploadDoc()})})}uploadDoc(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","file"),t.append("name","file"),t.append("file",this.selectedFile),this.formApiService.uploadDocument(t).subscribe(n=>{var o;this.contentUploadModal.dismiss(),n.success&&(this.uploadedID=!0,this.fileUploadForm.get("value").setValue(null===(o=n.data)||void 0===o?void 0:o.url),this.fileUploadEvent.emit(this.fileUploadForm.value))},n=>{console.log(n)})})}removeFile(){this.selectedFile="",this.imgPath="",this.uploadPDFFileName="",this.fileUploadForm.get("value").setValue("")}contentUploading(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:A,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment as we uploading your file",heading:"File Details"}}),yield this.contentUploadModal.present()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.U),e.Y36(F.$),e.Y36(l.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-file-upload"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ce,7),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first)}},inputs:{item:"item",is_required:"is_required"},outputs:{fileUploadEvent:"fileUploadEvent"},decls:25,vars:13,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],["class","compulsory",4,"ngIf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileInput","hidden","","accept","image/png, image/jpg, image/jpeg , application/pdf",3,"change"],["fileInput",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["class","cross_pic_choose","src","assets/icon/close.svg",3,"click",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[4,"ngFor","ngForOf"],["color","danger"],[1,"compulsory"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],["src","assets/icon/close.svg",1,"cross_pic_choose",3,"click"],[1,"error-message",2,"color","black","width","100%"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){if(1&t&&(e.TgZ(0,"form",0),e.YNc(1,ke,3,0,"ion-item",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"label"),e._uU(5),e.YNc(6,qe,2,0,"span",3),e.qZA(),e.TgZ(7,"ion-row")(8,"ion-col",4),e.YNc(9,Pe,5,0,"div",5),e.TgZ(10,"input",6,7),e.NdJ("change",function(r){return n.uploadPhoto(r)}),e.qZA(),e.YNc(12,we,1,1,"img",8),e.YNc(13,Ae,1,0,"img",9),e.qZA(),e.TgZ(14,"ion-col",10)(15,"ion-button",11),e.NdJ("click",function(){return n.takePhoto()}),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()(),e.TgZ(21,"ion-row"),e.YNc(22,Ue,3,1,"div",12),e.qZA(),e.TgZ(23,"ion-row"),e.YNc(24,Me,2,1,"ng-container",13),e.qZA()()()()),2&t){let o,r;e.Q6J("formGroup",n.fileUploadForm),e.xp6(1),e.Q6J("ngIf","rejected"==n.document_status),e.xp6(1),e.Q6J("disabled",n.file_status),e.xp6(3),e.hij("",null==n.item?null:n.item.value.name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required||n.is_required),e.xp6(3),e.Q6J("ngIf",!n.imgPath),e.xp6(3),e.Q6J("ngIf",n.imgPath),e.xp6(1),e.Q6J("ngIf",n.imgPath&&!n.file_status),e.xp6(3),e.Oqu(n.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null!==(o=null==n.attribute_lang?null:n.attribute_lang.size)&&void 0!==o?o:"Size: below 10 MB"),e.xp6(2),e.Oqu(null!==(r=null==n.attribute_lang?null:n.attribute_lang.format_both)&&void 0!==r?r:"Format: JPEG/JPG/PNG/PDF"),e.xp6(2),e.Q6J("ngIf",""!=n.uploadPDFFileName),e.xp6(2),e.Q6J("ngForOf",n.validationMessages.value)}},dependencies:[p.sg,p.O5,s._Y,s.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.Ie,l.Nd,s.sg],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),i})();function Je(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"p",7),e._uU(2),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(null==t.web_form?null:t.web_form.submit_success_content)}}function Qe(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"div",2)(2,"a",8),e._uU(3,"Open Link"),e.qZA()(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("href",null==t.web_form?null:t.web_form.submit_success_content,e.LSH)}}let Oe=(()=>{class i{constructor(t,n){this.modalController=t,this.navCtrl=n}ngOnInit(){}exitPage(){this.modalController.dismiss(),this.navCtrl.navigateRoot(["/"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.IN),e.Y36(l.SH))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-form-sucess"]],decls:11,vars:3,consts:[[1,"ion-padding","my-popup"],[2,"margin","20px"],[2,"text-align","center"],["src","assets/images/form-success.png","width","300px"],[2,"text-align","center","color","white"],[4,"ngIf"],["type","button","color","secondary","ion-button","",3,"click"],[2,"color","white","text-align","center"],[2,"color","white",3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()(),e.TgZ(4,"h3",4),e._uU(5),e.qZA(),e.YNc(6,Je,3,1,"ng-container",5),e.YNc(7,Qe,4,1,"ng-container",5),e.TgZ(8,"div",2)(9,"ion-button",6),e.NdJ("click",function(){return n.exitPage()}),e._uU(10,"Close"),e.qZA()()()),2&t&&(e.xp6(5),e.Oqu(n.heading),e.xp6(1),e.Q6J("ngIf","message"==(null==n.web_form?null:n.web_form.submit_success_action)),e.xp6(1),e.Q6J("ngIf","link"==(null==n.web_form?null:n.web_form.submit_success_action)))},dependencies:[p.O5,l.YG,l.W2],styles:["ion-content[_ngcontent-%COMP%]{--background: #0D4DA4}"]}),i})();function Ee(i,a){if(1&i&&(e.TgZ(0,"ion-card",13)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function Se(i,a){1&i&&(e.TgZ(0,"div",14),e._UZ(1,"ion-icon",15),e.TgZ(2,"div")(3,"span",16),e._uU(4,"Choose File"),e.qZA()()())}function Ye(i,a){if(1&i&&e._UZ(0,"img",17),2&i){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function De(i,a){1&i&&(e.TgZ(0,"div",18)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Be(i,a){if(1&i&&(e.TgZ(0,"div",19)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function je(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}let Y=(()=>{class i{constructor(t,n,o){this.globalService=t,this.formApiService=n,this.modalController=o,this.imageUploadEvent=new e.vpe,this.category="",this.document_status="",this.document_reject_remark="",this.uploadSubmit=!1,this.uploadedID=!1,this.validation="",this.inputReadOnly=!0,this.photo_id_status="",this.ocr_error=[],this.uploadPDFFileName="",this.label="",this.conf=75,this.extension="png",this.attribute_lang={}}ngOnInit(){var t;this.attribute_lang=this.item.value.attribute_lang,console.log(null===(t=this.attribute_lang)||void 0===t?void 0:t.passport_front),this.imageUploadForm=new s.cw({value:new s.NI(this.item.value.value,this.item.value.is_required?[s.kI.required]:[])}),this.label=this.item.value.name,this.validation=this.item.value.validation,this.photo_id_status=this.item.value.is_locked,""!=this.item.value.value&&(this.imgPath=this.item.value.value,this.uploadPDFFileName=this.item.value.value.split("/").pop()),this.imageUploadForm.valueChanges.pipe(T(500)).subscribe(n=>{console.log(n),this.imageUploadEvent.emit(n)}),this.globalService.imageUploadEvent2.subscribe(n=>{n?.forEach(o=>{this.document_status=o.status,this.document_reject_remark=o.remark})})}takePhoto(){return(0,d.mG)(this,void 0,void 0,function*(){this.globalService.takePhoto().then(t=>(0,d.mG)(this,void 0,void 0,function*(){this.openImageModal(t),this.imgPath=t.imageUrl,this.selectedFile=t.selectedFile}))})}openImageModal(t){return(0,d.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:k,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t?.imageUrl,type:"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(n=>{"start_upload"==n.data&&this.uploadDoc()})})}removeFile(){this.selectedFile="",this.imgPath=""}uploadDoc(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","file"),t.append("name","file"),t.append("file",this.selectedFile,"image."+this.extension),this.formApiService.uploadDocument(t).subscribe(n=>{var o;console.log(n),n.success&&(this.uploadedID=!0,this.imageUploadForm.get("value").setValue(null===(o=n.data)||void 0===o?void 0:o.url),this.contentUploadModal.dismiss())})})}contentUploading(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:A,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment as we read your Photo ID",heading:"Photo ID Details"}}),yield this.contentUploadModal.present()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.U),e.Y36(F.$),e.Y36(l.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-image-upload"]],inputs:{item:"item"},outputs:{imageUploadEvent:"imageUploadEvent"},decls:25,vars:12,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],[1,"compulsory"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[2,"color","red"],[4,"ngFor","ngForOf"],["color","danger"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message"],[1,"error-message",2,"color","black","width","100%"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Ee,6,1,"ion-card",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"label"),e._uU(5),e.TgZ(6,"span",3),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"ion-row")(9,"ion-col",4),e.YNc(10,Se,5,0,"div",5),e.YNc(11,Ye,1,1,"img",6),e.qZA(),e.TgZ(12,"ion-col",7)(13,"ion-button",8),e.NdJ("click",function(){return n.takePhoto()}),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA()()(),e.TgZ(19,"ion-row"),e.YNc(20,De,3,0,"div",9),e.qZA(),e.TgZ(21,"ion-row"),e.YNc(22,Be,3,1,"div",10),e.qZA()()()(),e.TgZ(23,"ul",11),e.YNc(24,je,3,1,"ng-container",12),e.qZA()),2&t&&(e.Q6J("formGroup",n.imageUploadForm),e.xp6(1),e.Q6J("ngIf","rejected"==n.document_status),e.xp6(1),e.Q6J("disabled",n.photo_id_status),e.xp6(3),e.hij("",n.label," "),e.xp6(5),e.Q6J("ngIf",!n.imgPath),e.xp6(1),e.Q6J("ngIf",n.imgPath),e.xp6(3),e.Oqu(n.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.size),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===n.selectedFile&&n.uploadSubmit),e.xp6(2),e.Q6J("ngIf",""!=n.uploadPDFFileName),e.xp6(2),e.Q6J("ngForOf",n.ocr_error))},dependencies:[p.sg,p.O5,s._Y,s.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.Nd,s.sg],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),i})();function Ge(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function $e(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Re(i,a){if(1&i&&(e.ynx(0),e.YNc(1,$e,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.inputEmailForm.get("value").hasError(t.type)&&(n.inputEmailForm.get("value").dirty||n.inputEmailForm.get("value").touched))}}let D=(()=>{class i{constructor(t,n){this.fb=t,this.formApiService=n,this.inputEmailEvent=new e.vpe,this.records=[],this.email_status=!1,this.validationMessages={value:[{type:"required",message:"Email is required"}],label:[{type:"required",message:"Email type is required"}]}}ngOnInit(){console.log(this.item.value),this.inputEmailForm=new s.cw({value:new s.NI(this.item.value.value.value,this.item.value.is_required?[s.kI.required]:[]),label:new s.NI(this.item.value.value.label,this.item.value.is_required?[s.kI.required]:[])}),this.email_status=this.item.value.is_locked,this.inputEmailForm.valueChanges.pipe(T(500)).subscribe(t=>{this.inputEmailEvent.emit(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.qu),e.Y36(F.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-input-email"]],inputs:{item:"item"},outputs:{inputEmailEvent:"inputEmailEvent"},decls:17,vars:5,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["lines","none"],["formControlName","label"],["value",""],["value","work"],["value","home"],["type","text","formControlName","value","placeholder","Email Address"],[4,"ngFor","ngForOf"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,Ge,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-item",3)(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"Select"),e.qZA(),e.TgZ(10,"ion-select-option",6),e._uU(11,"Work"),e.qZA(),e.TgZ(12,"ion-select-option",7),e._uU(13,"Home"),e.qZA()(),e._uU(14," \xa0 "),e._UZ(15,"ion-input",8),e.qZA(),e.YNc(16,Re,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.inputEmailForm),e.xp6(1),e.Q6J("disabled",n.email_status),e.xp6(3),e.hij("",null==n.item?null:n.item.value.name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(11),e.Q6J("ngForOf",n.validationMessages.value))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.PM,l.FN,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9,s.sg,s.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-item[_ngcontent-%COMP%]{padding:0;margin:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0px;--padding-start:0px }ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;height:50px;padding:5px;--inner-padding-end: 0px;--padding-start:0px }.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),i})();function Ve(i,a){1&i&&(e.TgZ(0,"span",10),e._uU(1,"*"),e.qZA())}function ze(i,a){if(1&i&&(e.TgZ(0,"div",12)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function He(i,a){if(1&i&&(e.ynx(0),e.YNc(1,ze,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.inputPhoneForm.get("value").hasError(t.type)&&(n.inputPhoneForm.get("value").dirty||n.inputPhoneForm.get("value").touched))}}let B=(()=>{class i{constructor(t,n){this.fb=t,this.formApiService=n,this.inputPhoneEvent=new e.vpe,this.records=[],this.phone_status=!1,this.validationMessages={value:[{type:"required",message:"Phone is required"}],label:[{type:"required",message:"Phone type is required"}]}}ngOnInit(){console.log(this.item.value),this.inputPhoneForm=new s.cw({value:new s.NI(this.item.value.value.value,this.item.value.is_required?[s.kI.required]:[]),label:new s.NI(this.item.value.value.label,this.item.value.is_required?[s.kI.required]:[])}),this.phone_status=this.item.value.is_locked,this.inputPhoneForm.valueChanges.pipe(T(500)).subscribe(t=>{this.inputPhoneEvent.emit(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.qu),e.Y36(F.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-input-phone"]],inputs:{item:"item"},outputs:{inputPhoneEvent:"inputPhoneEvent"},decls:17,vars:5,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["lines","none"],["formControlName","label"],["value",""],["value","work"],["value","home"],["type","text","formControlName","value","placeholder","Phone Number"],[4,"ngFor","ngForOf"],[1,"compulsory"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,Ve,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-item",3)(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"Select"),e.qZA(),e.TgZ(10,"ion-select-option",6),e._uU(11,"Work"),e.qZA(),e.TgZ(12,"ion-select-option",7),e._uU(13,"Home"),e.qZA()(),e._uU(14," \xa0 "),e._UZ(15,"ion-input",8),e.qZA(),e.YNc(16,He,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.inputPhoneForm),e.xp6(1),e.Q6J("disabled",n.phone_status),e.xp6(3),e.hij("",null==n.item?null:n.item.value.name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(11),e.Q6J("ngForOf",n.validationMessages.value))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.PM,l.FN,l.pK,l.Ie,l.Q$,l.t9,l.n0,l.QI,l.j9,s.sg,s.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-item[_ngcontent-%COMP%]{padding:0;margin:0}ion-item[_ngcontent-%COMP%]::part(native){padding:0;--inner-padding-end: 0px;--padding-start:0px }ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;height:50px;padding:5px;--inner-padding-end: 0px;--padding-start:0px }.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),i})();function Le(i,a){1&i&&(e.TgZ(0,"span",5),e._uU(1,"*"),e.qZA())}function Ke(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-select-option",6),e._uU(2),e.qZA(),e.BQk()),2&i){const t=a.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function Xe(i,a){if(1&i&&(e.TgZ(0,"div",8)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function We(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Xe,3,1,"div",7),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.lookupForm.get("lookup").hasError(t.type)&&(n.lookupForm.get("lookup").dirty||n.lookupForm.get("lookup").touched))}}let j=(()=>{class i{constructor(t,n){this.fb=t,this.formApiService=n,this.lookupEvent=new e.vpe,this.records=[],this.lookup_status=!1,this.validationMessages={lookup:[{type:"required",message:"Lookup is required"}]}}ngOnInit(){console.log(this.item.value),this.lookupForm=new s.cw({lookup:new s.NI(this.item.value.value,this.item.value.is_required?[s.kI.required]:[])}),""!=this.item.value.lookup_type&&this.loadLookupData(this.item.value.lookup_type),this.lookup_status=this.item.value.is_locked,console.log("lookup",this.lookup_status)}loadLookupData(t){this.formApiService.getLookupData(t).subscribe(n=>{n.success&&(this.records=n.data)})}changeLookup(t){this.lookupForm.get("lookup").setValue(t.target.value),this.lookupEvent.emit(t.target.value)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.qu),e.Y36(F.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lookup"]],inputs:{item:"item"},outputs:{lookupEvent:"lookupEvent"},decls:9,vars:6,consts:[[3,"formGroup"],[3,"disabled"],["class","compulsory",4,"ngIf"],["formControlName","lookup",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"compulsory"],[3,"value"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,Le,2,0,"span",2),e.qZA(),e.TgZ(6,"ion-select",3),e.NdJ("ionChange",function(r){return n.changeLookup(r)}),e.YNc(7,Ke,3,2,"ng-container",4),e.qZA(),e.YNc(8,We,2,1,"ng-container",4),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.lookupForm),e.xp6(1),e.Q6J("disabled",n.lookup_status),e.xp6(3),e.hij("",null==n.item?null:n.item.value.name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(2),e.Q6J("ngForOf",n.records),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.lookup))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.PM,l.FN,l.Q$,l.t9,l.n0,l.QI,s.sg,s.u],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}"]}),i})();function et(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"li"),e._uU(2),e.qZA(),e.BQk()),2&i){const t=a.$implicit;e.xp6(2),e.Oqu(t)}}function tt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col")(1,"ion-button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmPopup())}),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.hij("Yes, this is my ",t.button_message,"")}}let G=(()=>{class i{constructor(t,n){this.modalController=t,this.alertCtrl=n,this.ocr_error=[],this.critical_case=!1,this.button_message="Passport"}ngOnInit(){}exitScreen(){this.modalController.dismiss()}confirmPopup(){return(0,d.mG)(this,void 0,void 0,function*(){yield(yield this.alertCtrl.create({cssClass:"wordCloudPoll",header:"Confirm for submission",message:"Type 'confirm' to continue",mode:"ios",inputs:[{name:"res",placeholder:"Enter the text to confirm"}],buttons:[{text:"Submit",id:"confirm-button",handler:n=>(0,d.mG)(this,void 0,void 0,function*(){"confirm"==n.res.toLowerCase().replaceAll(" ","")&&this.modalController.dismiss("confirm")})}]})).present()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.IN),e.Y36(l.Br))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-error-screen"]],decls:11,vars:2,consts:[[1,"ion-padding","my-popup"],[2,"text-align","center"],[2,"color","red"],[4,"ngFor","ngForOf"],[4,"ngIf"],["ion-button","","color","danger",3,"click"],["ion-button","","color","primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0)(1,"h3",1),e._uU(2,"Oops!"),e.qZA(),e.TgZ(3,"ul",2),e.YNc(4,et,3,1,"ng-container",3),e.qZA(),e.TgZ(5,"div",1)(6,"ion-row"),e.YNc(7,tt,3,1,"ion-col",4),e.TgZ(8,"ion-col")(9,"ion-button",5),e.NdJ("click",function(){return n.exitScreen()}),e._uU(10,"No, I will upload again"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",n.ocr_error),e.xp6(3),e.Q6J("ngIf",n.critical_case))},dependencies:[p.sg,p.O5,l.YG,l.wI,l.W2,l.Nd],styles:["ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:15px}"]}),i})();var U,nt=new Uint8Array(16);function it(){if(!U&&!(U=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return U(nt)}const ot=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,rt=function at(i){return"string"==typeof i&&ot.test(i)};for(var v=[],Q=0;Q<256;++Q)v.push((Q+256).toString(16).substr(1));const P=function ct(i,a,t){var n=(i=i||{}).random||(i.rng||it)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,a){t=t||0;for(var o=0;o<16;++o)a[t+o]=n[o];return a}return function st(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(v[i[a+0]]+v[i[a+1]]+v[i[a+2]]+v[i[a+3]]+"-"+v[i[a+4]]+v[i[a+5]]+"-"+v[i[a+6]]+v[i[a+7]]+"-"+v[i[a+8]]+v[i[a+9]]+"-"+v[i[a+10]]+v[i[a+11]]+v[i[a+12]]+v[i[a+13]]+v[i[a+14]]+v[i[a+15]]).toLowerCase();if(!rt(t))throw TypeError("Stringified UUID is invalid");return t}(n)};var O=f(2340),pt=f(529);let $=(()=>{class i{constructor(t){this.http=t,this.headers={},this.baseURL=""}uploadDocument(t,n){return this.http.post(O.N.hypervergeApi+"readId",t,{headers:{transactionId:n,appId:O.N.appId,appKey:O.N.appKey}})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(pt.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const dt=["fileFront"],ut=["fileInput"],_t=["fileBack"];function mt(i,a){1&i&&(e.TgZ(0,"ion-item",31)(1,"p"),e._uU(2,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA()())}function gt(i,a){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",32),e.TgZ(2,"div")(3,"span",20),e._uU(4,"Choose File"),e.qZA()()())}function ht(i,a){if(1&i&&e._UZ(0,"img",33),2&i){const t=e.oxw();e.Q6J("src",t.imgPathFront,e.LSH)}}function ft(i,a){1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function vt(i,a){1&i&&(e.TgZ(0,"div",16),e._UZ(1,"ion-icon",32),e.TgZ(2,"div")(3,"span",20),e._uU(4,"Choose File"),e.qZA()()())}function xt(i,a){if(1&i&&e._UZ(0,"img",33),2&i){const t=e.oxw();e.Q6J("src",t.imgPathBack,e.LSH)}}function bt(i,a){1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Ft(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function yt(i,a){1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function Zt(i,a){if(1&i&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function Tt(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function It(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ct(i,a){if(1&i&&(e.ynx(0),e.YNc(1,It,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("exp_date").hasError(t.type)&&(n.passportForm.get("exp_date").dirty||n.passportForm.get("exp_date").touched))}}function kt(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function qt(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Pt(i,a){if(1&i&&(e.ynx(0),e.YNc(1,qt,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("issue_date").hasError(t.type)&&(n.passportForm.get("issue_date").dirty||n.passportForm.get("issue_date").touched))}}function wt(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function At(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Ut(i,a){if(1&i&&(e.ynx(0),e.YNc(1,At,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("issue_place").hasError(t.type)&&(n.passportForm.get("issue_place").dirty||n.passportForm.get("issue_place").touched))}}function Nt(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function Mt(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Jt(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Mt,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("name_first").hasError(t.type)&&(n.passportForm.get("name_first").dirty||n.passportForm.get("name_first").touched))}}function Qt(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function Ot(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Et(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Ot,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("name_last").hasError(t.type)&&(n.passportForm.get("name_last").dirty||n.passportForm.get("name_last").touched))}}function St(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function Yt(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Dt(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Yt,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("passportno").hasError(t.type)&&(n.passportForm.get("passportno").dirty||n.passportForm.get("passportno").touched))}}function Bt(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.uploadDocuments())}),e._uU(1,"Upload Documents"),e.qZA()}}function jt(i,a){if(1&i&&(e.TgZ(0,"div",34)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Gt(i,a){if(1&i&&(e.ynx(0),e.YNc(1,jt,3,1,"div",11),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.passportForm.get("is_document_uploaded").hasError(t.type)&&(n.passportForm.get("is_document_uploaded").dirty||n.passportForm.get("is_document_uploaded").touched))}}let R=(()=>{class i{constructor(t,n,o,r){this.globalService=t,this.formApiService=n,this.modalController=o,this.hypervergeApiService=r,this.scrollEvent=new e.vpe,this.criticalEvent=new e.vpe,this.passportEvent=new e.vpe,this.imgPathFront="",this.imgPathBack="",this.category="",this.passport_status=!1,this.document_status="",this.uploadedFront=!1,this.uploadedBack=!1,this.uploadedMerged=!1,this.uploadPDFFileName="",this.uploadSubmitFront=!1,this.uploadSubmitBack=!1,this.uploadSubmitFull=!1,this.conf=75,this.attribute_lang={},this.uploadType="",this.inputReadOnly=!0,this.front_id_value="",this.back_id_value="",this.ocr_error_front=[],this.ocr_error_back=[],this.is_document_uploaded=!1,this.hit_count_front=0,this.hit_count_back=0,this.country_code="",this.validationMessages={exp_date:[{type:"required",message:"Exp date is required"}],issue_date:[{type:"required",message:"Issue date is required"}],issue_place:[{type:"required",message:"Issue place is required"}],name_first:[{type:"required",message:"First name is required"}],name_last:[{type:"required",message:"Last name is required"}],passportno:[{type:"required",message:"Passport no. is required"}],is_document_uploaded:[{type:"required",message:"Please click on upload button."}]},this.document_reject_remark="",this.flag=!1}ngOnInit(){var t,n,o,r,c,u,m,_,h,g,y;this.attribute_lang=this.item.value.attribute_lang,this.passportForm=new s.cw({exp_date:new s.NI(null===(t=this.item.value.value)||void 0===t?void 0:t.exp_date,this.item.value.is_required?[s.kI.required]:[]),issue_date:new s.NI(null===(n=this.item.value.value)||void 0===n?void 0:n.issue_date,this.item.value.is_required?[s.kI.required]:[]),issue_place:new s.NI(null===(o=this.item.value.value)||void 0===o?void 0:o.issue_place,this.item.value.is_required?[s.kI.required]:[]),name_first:new s.NI(null===(r=this.item.value.value)||void 0===r?void 0:r.name_first,this.item.value.is_required?[s.kI.required]:[]),name_last:new s.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.name_last,this.item.value.is_required?[s.kI.required]:[]),passportno:new s.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.passportno,this.item.value.is_required?[s.kI.required]:[]),status:new s.NI(null===(m=this.item.value.value)||void 0===m?void 0:m.status,null),address:new s.NI(null===(_=this.item.value.value)||void 0===_?void 0:_.address,null),filled_manually:new s.NI(null===(h=this.item.value.value)||void 0===h?void 0:h.filled_manually,null),is_document_uploaded:new s.NI(null!==(g=this.item.value.value)&&void 0!==g&&g.exp_date?"uploaded":"",[s.kI.required])}),this.passportForm.valueChanges.pipe(T(500)).subscribe(Z=>{this.passportEvent.emit(Z)}),this.globalService.passportFilesEvent.subscribe(Z=>{Z?.forEach(x=>{"passport-merged"==x.type&&(this.document_status=x.status,this.document_reject_remark=x.remark,this.uploadedMerged=!0),"passport-front"==x.type&&(this.imgPathFront=x.path,this.uploadedFront=!0),"passport-back"==x.type&&(this.imgPathBack=x.path,this.uploadedBack=!0)})}),""!=(null===(y=this.item.value.value)||void 0===y?void 0:y.exp_date)&&(this.inputReadOnly=!1)}takePhoto(t){return(0,d.mG)(this,void 0,void 0,function*(){"front"==t&&this.fileFront.nativeElement.click(),"back"==t&&this.fileBack.nativeElement.click()})}uploadFrontPhoto(t){const n=t.target.files[0];if(n.size>=b.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=r=>{let c=r.target.result;this.openImageModal(c,"front"),this.imgPathFront=c},o.readAsDataURL(n),this.selectedFileFront=n}}uploadBackPhoto(t){const n=t.target.files[0];if(n.size>=b.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=r=>{let c=r.target.result;this.openImageModal(c,"back"),this.imgPathBack=c},o.readAsDataURL(n),this.selectedFileBack=n}}openImageModal(t,n){return(0,d.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:k,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(o=>{"start_upload"==o.data&&("front"==n&&this.uploadDocFront(),"back"==n&&this.uploadDocBack())})})}removeFileFront(){this.selectedFileFront="",this.imgPathFront=""}removeFileBack(){this.selectedFileBack="",this.imgPathBack=""}uploadDocFront(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitFront=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileFront)return;this.uploadType="image",this.contentUploading("OCR scanning passport front page");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","front"),t.append("image",this.selectedFileFront);const n=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,n).subscribe(o=>{this.contentUploadModal.dismiss(),"success"==o.status&&(this.hit_count_front++,this.passportForm.get("exp_date").setValue(o.result.details[0].fieldsExtracted.dateOfExpiry.value),this.passportForm.get("issue_date").setValue(o.result.details[0].fieldsExtracted.dateOfIssue.value),this.passportForm.get("issue_place").setValue(o.result.details[0].fieldsExtracted.placeOfIssue.value),this.passportForm.get("name_first").setValue(o.result.details[0].fieldsExtracted.firstName.value),this.passportForm.get("name_last").setValue(o.result.details[0].fieldsExtracted.lastName.value),this.passportForm.get("passportno").setValue(o.result.details[0].fieldsExtracted.idNumber.value),this.country_code=o.result.details[0].fieldsExtracted.countryCode.value,this.front_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.extracted_json_front=o.result,this.ocr_transaction_id_front=P(),this.uploadSubmitBack=!0,this.uploadedFront=!0)},o=>{this.ocr_error_front.push(o.error),this.globalService.showError(o.error.result.error),this.contentUploadModal.dismiss()})})}uploadDocBack(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitBack=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileBack)return;this.uploadType="image",this.contentUploading("OCR scanning passport back page");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","back"),t.append("image",this.selectedFileBack);const n=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,n).subscribe(o=>{if(this.contentUploadModal.dismiss(),console.log(o),"success"==o.status){this.hit_count_back++;const c={address:o.result.details[0].fieldsExtracted.address.value,city:o.result.details[0].fieldsExtracted.address.district,state:o.result.details[0].fieldsExtracted.address.province,pincode:o.result.details[0].fieldsExtracted.address.zipCode,country:b.rQ[this.country_code]};this.passportForm.get("address").setValue(c),this.passportForm.get("is_document_uploaded").setValue(""),this.back_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.ocr_transaction_id_back=P(),this.extracted_json_back=o.result,this.uploadedBack=!0;var r=[];this.front_id_value!=this.back_id_value?(r.push("User Passport Front & Back Number Doesn't Match. Please Verify. Passport Number given in Front: "+this.front_id_value+", Passport Number given in Back: "+this.back_id_value),this.errorScreen(r,!0),this.criticalEvent.emit(!0)):this.is_document_uploaded=!0}},o=>{this.ocr_error_back.push(o.error),this.globalService.showError(o.error.result.error),this.contentUploadModal.dismiss()})})}contentUploading(t){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:A,backdropDismiss:!0,mode:"ios",componentProps:{content:t,heading:"Passport Details"}}),yield this.contentUploadModal.present()})}errorScreen(t,n){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:G,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{critical_case:n,button_message:"Passport",ocr_error:t,heading:"Oops!"}}),yield this.contentUploadModal.present(),yield this.contentUploadModal.onDidDismiss().then(o=>{"confirm"==o.data?(this.inputReadOnly=!1,this.criticalEvent.emit(!1),this.passportForm.get("filled_manually").setValue(!0),console.log("confirm clicked")):console.log("confirm not clicked")})})}uploadDocuments(){1==this.uploadedMerged?this.uploadMergeAWS():this.uploadDocAWSFront()}uploadDocAWSFront(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploading("Please give us a moment while we uploading your passport front photo");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-front"),t.append("name","passport-front"),t.append("ocr_error",JSON.stringify(this.ocr_error_front)),t.append("extracted_json",JSON.stringify(this.extracted_json_front)),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_front),t.append("file",this.selectedFileFront),this.formApiService.uploadDocument(t).subscribe(n=>{this.contentUploadModal.dismiss(),n.success&&this.uploadDocAWSBack()})})}uploadDocAWSBack(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploading("Please give us a moment while we uploading your passport back photo");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-back"),t.append("name","passport-back"),t.append("ocr_error",JSON.stringify(this.ocr_error_back)),t.append("extracted_json",JSON.stringify(this.extracted_json_back)),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_back),t.append("file",this.selectedFileBack),this.formApiService.uploadDocument(t).subscribe(n=>{this.contentUploadModal.dismiss(),n.success&&(this.passportForm.get("is_document_uploaded").setValue("uploaded"),this.is_document_uploaded=!1)})})}uploadPhoto(t){const n=t.target.files[0];n.size>=b.m_?this.globalService.showError("PDF file should be less than 10 MB"):(this.uploadPDFFileName=n.name,this.selectedFileFront=n,this.selectedFileBack=n,this.openPdfModal(this.uploadPDFFileName),n?.name&&(this.uploadType="pdf"))}openPdfModal(t){return(0,d.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:k,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"pdf"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(n=>(0,d.mG)(this,void 0,void 0,function*(){this.uploadPDFDocFront()}))})}uploadPDFDocFront(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitFront=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileFront)return;this.uploadType="image",this.contentUploading("OCR scanning passport front page");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","front"),t.append("image",this.selectedFileFront);const n=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,n).subscribe(o=>{this.contentUploadModal.dismiss(),console.log(o),"success"==o.status&&(this.hit_count_front++,this.passportForm.get("exp_date").setValue(o.result.details[0].fieldsExtracted.dateOfExpiry.value),this.passportForm.get("issue_date").setValue(o.result.details[0].fieldsExtracted.dateOfIssue.value),this.passportForm.get("issue_place").setValue(o.result.details[0].fieldsExtracted.placeOfIssue.value),this.passportForm.get("name_first").setValue(o.result.details[0].fieldsExtracted.firstName.value),this.passportForm.get("name_last").setValue(o.result.details[0].fieldsExtracted.lastName.value),this.passportForm.get("passportno").setValue(o.result.details[0].fieldsExtracted.idNumber.value),this.country_code=o.result.details[0].fieldsExtracted.countryCode.value,this.front_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.extracted_json_front=o.result,this.ocr_transaction_id_front=P(),this.uploadedMerged=!0,this.uploadPDFDocBack())},o=>{this.ocr_error_front.push(o.error),this.globalService.showError(o.error.result.error),this.contentUploadModal.dismiss()})})}uploadPDFDocBack(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmitBack=!0,this.uploadSubmitFull=!1,void 0===this.selectedFileBack)return;this.uploadType="image",this.contentUploading("OCR scanning passport back page");const t=new FormData;t.append("countryId","ind"),t.append("documentId","passport"),t.append("expectedDocumentSide","back"),t.append("image",this.selectedFileBack);const n=localStorage.getItem("ca_user_id");yield this.hypervergeApiService.uploadDocument(t,n).subscribe(o=>{if(this.contentUploadModal.dismiss(),console.log(o),"success"==o.status){this.hit_count_back++;const c={address:o.result.details[0].fieldsExtracted.address.value,city:o.result.details[0].fieldsExtracted.address.district,state:o.result.details[0].fieldsExtracted.address.province,pincode:o.result.details[0].fieldsExtracted.address.zipCode,country:b.rQ[this.country_code]};this.passportForm.get("address").setValue(c),this.passportForm.get("is_document_uploaded").setValue(""),this.back_id_value=o.result.details[0].fieldsExtracted.idNumber.value,this.ocr_transaction_id_back=P(),this.extracted_json_back=o.result;var r=[];this.front_id_value!=this.back_id_value?(r.push("User Passport Front & Back Number Doesn't Match. Please Verify. Passport Number given in Front: "+this.front_id_value+", Passport Number given in Back: "+this.back_id_value),this.errorScreen(r,!0),this.criticalEvent.emit(!0)):this.is_document_uploaded=!0}},o=>{this.ocr_error_back.push(o.error),this.globalService.showError(o.error.result.error),this.contentUploadModal.dismiss()})})}uploadMergeAWS(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploading("Please give us a moment while we uploading your passport");const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type","passport-merged"),t.append("name","passport-merged"),t.append("ocr_error",JSON.stringify({"passport-front":this.ocr_error_front,"passport-back":this.ocr_error_back})),t.append("extracted_json",JSON.stringify({"passport-front":this.extracted_json_front,"passport-back":this.extracted_json_back})),t.append("hit_count",this.hit_count_front.toString()),t.append("ocr_transaction_id",this.ocr_transaction_id_front),t.append("file",this.selectedFileFront),this.formApiService.uploadDocument(t).subscribe(n=>{this.contentUploadModal.dismiss(),n.success&&(this.is_document_uploaded=!1)})})}choosePdf(){this.fileInput.nativeElement.click()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.U),e.Y36(F.$),e.Y36(l.IN),e.Y36($))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-passport"]],viewQuery:function(t,n){if(1&t&&(e.Gf(dt,7),e.Gf(ut,7),e.Gf(_t,7)),2&t){let o;e.iGM(o=e.CRH())&&(n.fileFront=o.first),e.iGM(o=e.CRH())&&(n.fileInput=o.first),e.iGM(o=e.CRH())&&(n.fileBack=o.first)}},inputs:{item:"item"},outputs:{scrollEvent:"scrollEvent",criticalEvent:"criticalEvent",passportEvent:"passportEvent"},decls:110,vars:53,consts:[[3,"formGroup"],[3,"disabled"],["color","danger",4,"ngIf"],[1,"compulsory"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileFront","hidden","","accept","image/png, image/jpg, image/jpeg",3,"change"],["fileFront",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["type","file","id","fileBack","hidden","","accept","image/png, image/jpg, image/jpeg",3,"change"],["fileBack",""],[2,"text-align","center"],["class","compulsory",4,"ngIf"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px","color","red"],["type","file","id","fileInput","hidden","","accept","application/pdf",3,"change"],["fileInput",""],[2,"font-size","10px"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],[1,"form-group"],["type","text","formControlName","exp_date",3,"readonly"],[4,"ngFor","ngForOf"],["type","text","formControlName","issue_date",3,"readonly"],["type","text","formControlName","issue_place",3,"readonly"],["type","text","formControlName","name_first",3,"readonly"],["type","text","formControlName","name_last",3,"readonly"],["type","text","formControlName","passportno",3,"readonly"],["type","button","class","primary-btn","ion-button","","size","full",3,"click",4,"ngIf"],["color","danger"],["name","document-attach-outline",2,"font-size","40px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message"],[1,"error-message",2,"color","black","width","100%"],["type","button","ion-button","","size","full",1,"primary-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"ion-card",1)(2,"ion-card-content"),e.YNc(3,mt,3,0,"ion-item",2),e.TgZ(4,"label"),e._uU(5),e.TgZ(6,"span",3),e._uU(7,"*"),e.qZA()(),e.TgZ(8,"ion-row")(9,"ion-col",4),e.YNc(10,gt,5,0,"div",5),e.TgZ(11,"input",6,7),e.NdJ("change",function(r){return n.uploadFrontPhoto(r)}),e.qZA(),e.YNc(13,ht,1,1,"img",8),e.qZA(),e.TgZ(14,"ion-col",9)(15,"ion-button",10),e.NdJ("click",function(){return n.takePhoto("front")}),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()(),e.TgZ(21,"ion-row"),e.YNc(22,ft,3,0,"div",11),e.qZA()()(),e.TgZ(23,"ion-card",1)(24,"ion-card-content")(25,"label"),e._uU(26),e.TgZ(27,"span",3),e._uU(28,"*"),e.qZA()(),e.TgZ(29,"ion-row")(30,"ion-col",4),e.YNc(31,vt,5,0,"div",5),e.TgZ(32,"input",12,13),e.NdJ("change",function(r){return n.uploadBackPhoto(r)}),e.qZA(),e.YNc(34,xt,1,1,"img",8),e.qZA(),e.TgZ(35,"ion-col",9)(36,"ion-button",10),e.NdJ("click",function(){return n.takePhoto("back")}),e._uU(37),e.qZA(),e.TgZ(38,"p"),e._uU(39),e.qZA(),e.TgZ(40,"p"),e._uU(41),e.qZA()()(),e.TgZ(42,"ion-row"),e.YNc(43,bt,3,0,"div",11),e.qZA()()(),e.TgZ(44,"p",14),e._uU(45,"OR"),e.qZA(),e.TgZ(46,"ion-card",1)(47,"ion-card-content")(48,"label"),e._uU(49),e.YNc(50,Ft,2,0,"span",15),e.qZA(),e.TgZ(51,"ion-row")(52,"ion-col",4)(53,"div",16),e._UZ(54,"ion-icon",17),e.TgZ(55,"input",18,19),e.NdJ("change",function(r){return n.uploadPhoto(r)}),e.qZA(),e.TgZ(57,"div")(58,"span",20),e._uU(59,"Choose File"),e.qZA()()()(),e.TgZ(60,"ion-col",9)(61,"ion-button",10),e.NdJ("click",function(){return n.choosePdf()}),e._uU(62),e.qZA(),e.TgZ(63,"p"),e._uU(64),e.qZA(),e.TgZ(65,"p"),e._uU(66),e.qZA()()(),e.TgZ(67,"ion-row"),e.YNc(68,yt,3,0,"div",11),e.YNc(69,Zt,3,1,"div",21),e.qZA()()(),e.TgZ(70,"ion-card",1)(71,"ion-card-content")(72,"div",22)(73,"label"),e._uU(74),e.YNc(75,Tt,2,0,"span",15),e.qZA(),e._UZ(76,"ion-input",23),e.YNc(77,Ct,2,1,"ng-container",24),e.qZA(),e.TgZ(78,"div",22)(79,"label"),e._uU(80),e.YNc(81,kt,2,0,"span",15),e.qZA(),e._UZ(82,"ion-input",25),e.YNc(83,Pt,2,1,"ng-container",24),e.qZA(),e.TgZ(84,"div",22)(85,"label"),e._uU(86),e.YNc(87,wt,2,0,"span",15),e.qZA(),e._UZ(88,"ion-input",26),e.YNc(89,Ut,2,1,"ng-container",24),e.qZA(),e.TgZ(90,"div",22)(91,"label"),e._uU(92),e.YNc(93,Nt,2,0,"span",15),e.qZA(),e._UZ(94,"ion-input",27),e.YNc(95,Jt,2,1,"ng-container",24),e.qZA(),e.TgZ(96,"div",22)(97,"label"),e._uU(98),e.YNc(99,Qt,2,0,"span",15),e.qZA(),e._UZ(100,"ion-input",28),e.YNc(101,Et,2,1,"ng-container",24),e.qZA(),e.TgZ(102,"div",22)(103,"label"),e._uU(104),e.YNc(105,St,2,0,"span",15),e.qZA(),e._UZ(106,"ion-input",29),e.YNc(107,Dt,2,1,"ng-container",24),e.qZA(),e.YNc(108,Bt,2,0,"ion-button",30),e.YNc(109,Gt,2,1,"ng-container",24),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.passportForm),e.xp6(1),e.Q6J("disabled",n.passport_status||1==n.uploadedMerged),e.xp6(2),e.Q6J("ngIf","rejected"==n.document_status),e.xp6(2),e.hij("",null==n.attribute_lang?null:n.attribute_lang.passport_front," "),e.xp6(5),e.Q6J("ngIf",!n.imgPathFront),e.xp6(3),e.Q6J("ngIf",n.imgPathFront&&n.uploadedFront),e.xp6(3),e.Oqu(n.uploadedFront?"Update":"Upload"),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.size),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===n.selectedFileFront&&n.uploadSubmitFront),e.xp6(1),e.Q6J("disabled",n.passport_status||1==n.uploadedMerged),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.passport_back," "),e.xp6(5),e.Q6J("ngIf",!n.imgPathBack),e.xp6(3),e.Q6J("ngIf",n.imgPathBack&&n.uploadedBack),e.xp6(3),e.Oqu(n.uploadedBack?"Update":"Upload"),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.size),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.format_image),e.xp6(2),e.Q6J("ngIf",void 0===n.selectedFileBack&&n.uploadSubmitBack),e.xp6(3),e.Q6J("disabled",n.passport_status||1==n.uploadedFront),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.merged_passport," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(12),e.Oqu(n.uploadedMerged?"Update":"Upload"),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.size),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.format_document),e.xp6(2),e.Q6J("ngIf",void 0===n.selectedFile&&n.uploadSubmitFull),e.xp6(1),e.Q6J("ngIf",""!=n.uploadPDFFileName),e.xp6(1),e.Q6J("disabled",n.passport_status),e.xp6(4),e.hij("",null==n.attribute_lang?null:n.attribute_lang.exp_date," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.passport_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.exp_date),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.issue_date," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.passport_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.issue_date),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.issue_place," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.passport_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.issue_place),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.name_first," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.passport_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.name_first),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.name_last," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.passport_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.name_last),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.passportno," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.passport_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.passportno),e.xp6(1),e.Q6J("ngIf",n.is_document_uploaded),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.is_document_uploaded))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.pK,l.Ie,l.Nd,l.j9,s.sg,s.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}.cross_pdf_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:18px;margin-top:-18px}"]}),i})();const $t=["fileInput"];function Rt(i,a){if(1&i&&(e.TgZ(0,"ion-card",25)(1,"ion-card-content")(2,"p"),e._uU(3,"Handler has rejected a document, please go to the form and update the respective document"),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&i){const t=e.oxw();e.xp6(5),e.hij("Remarks: ",t.document_reject_remark,"")}}function Vt(i,a){1&i&&(e.TgZ(0,"ion-select-option",26),e._uU(1,"Adhaar card"),e.qZA())}function zt(i,a){1&i&&(e.TgZ(0,"ion-select-option",27),e._uU(1,"PAN Card"),e.qZA())}function Ht(i,a){1&i&&(e.TgZ(0,"ion-select-option",28),e._uU(1,"Voter ID"),e.qZA())}function Lt(i,a){1&i&&(e.TgZ(0,"ion-select-option",29),e._uU(1,"Driving License"),e.qZA())}function Kt(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function Xt(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Kt,3,1,"div",18),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.photoIdForm.get("category").hasError(t.type)&&(n.photoIdForm.get("category").dirty||n.photoIdForm.get("category").touched))}}function Wt(i,a){1&i&&(e.TgZ(0,"div",31),e._UZ(1,"ion-icon",32),e.TgZ(2,"div")(3,"span",33),e._uU(4,"Choose File"),e.qZA()()())}function en(i,a){if(1&i&&e._UZ(0,"img",34),2&i){const t=e.oxw();e.Q6J("src",t.imgPath,e.LSH)}}function tn(i,a){1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2,"Please upload document."),e.qZA()())}function nn(i,a){if(1&i&&(e.TgZ(0,"div",35)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.uploadPDFFileName)}}function on(i,a){1&i&&(e.TgZ(0,"span",36),e._uU(1,"*"),e.qZA())}function an(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function rn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,an,3,1,"div",18),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.photoIdForm.get("id_name").hasError(t.type)&&(n.photoIdForm.get("id_name").dirty||n.photoIdForm.get("id_name").touched))}}function sn(i,a){1&i&&(e.TgZ(0,"span",36),e._uU(1,"*"),e.qZA())}function ln(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function cn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,ln,3,1,"div",18),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.photoIdForm.get("id_num").hasError(t.type)&&(n.photoIdForm.get("id_num").dirty||n.photoIdForm.get("id_num").touched))}}function pn(i,a){1&i&&(e.TgZ(0,"span",36),e._uU(1,"*"),e.qZA())}function dn(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function un(i,a){if(1&i&&(e.ynx(0),e.YNc(1,dn,3,1,"div",18),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.photoIdForm.get("mem_name").hasError(t.type)&&(n.photoIdForm.get("mem_name").dirty||n.photoIdForm.get("mem_name").touched))}}function _n(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.uploadDocuments())}),e._uU(1,"Upload Documents"),e.qZA()}}function mn(i,a){if(1&i&&(e.TgZ(0,"div",30)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.message)}}function gn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,mn,3,1,"div",18),e.BQk()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.photoIdForm.get("is_document_uploaded").hasError(t.type)&&(n.photoIdForm.get("is_document_uploaded").dirty||n.photoIdForm.get("is_document_uploaded").touched))}}let V=(()=>{class i{constructor(t,n,o,r){this.globalService=t,this.formApiService=n,this.modalController=o,this.hypervergeApiService=r,this.criticalEvent2=new e.vpe,this.photoIdEvent=new e.vpe,this.category="",this.document_status="",this.uploadSubmit=!1,this.uploadedID=!1,this.inputReadOnly=!0,this.photo_id_status="",this.ocr_error=[],this.validation="",this.uploadPDFFileName="",this.hit_count=1,this.is_document_uploaded=!1,this.validationMessages={category:[{type:"required",message:"Category is required!"}],id_name:[{type:"required",message:"ID Name is required!"}],id_num:[{type:"required",message:"ID Number is required!"}],mem_name:[{type:"required",message:"Member name is required!"}],is_document_uploaded:[{type:"required",message:"Please click on upload button."}]},this.attribute_lang={},this.document_reject_remark="",this.isOptionSelected=!1}ngOnInit(){var t,n,o,r,c,u,m,_;this.attribute_lang=this.item.value.attribute_lang,console.log(this.item.value),this.photoIdForm=new s.cw({category:new s.NI("",this.item.value.is_required?[s.kI.required]:[]),id_name:new s.NI(null===(t=this.item.value.value)||void 0===t?void 0:t.id_name,this.item.value.is_required?[s.kI.required]:[]),id_num:new s.NI(null===(n=this.item.value.value)||void 0===n?void 0:n.id_num,this.item.value.is_required?[s.kI.required]:[]),mem_name:new s.NI(null===(o=this.item.value.value)||void 0===o?void 0:o.mem_name,this.item.value.is_required?[s.kI.required]:[]),status:new s.NI(null===(r=this.item.value.value)||void 0===r?void 0:r.status,null),type:new s.NI(null===(c=this.item.value.value)||void 0===c?void 0:c.type,null),filled_manually:new s.NI(null===(u=this.item.value.value)||void 0===u?void 0:u.filled_manually,null),is_document_uploaded:new s.NI(null!==(m=this.item.value.value)&&void 0!==m&&m.id_num?"uploaded":"",[s.kI.required])}),this.validation=this.item.value.validation,this.photo_id_status=this.item.value.is_locked,this.photoIdForm.valueChanges.pipe(T(500)).subscribe(h=>{console.log(h),this.photoIdEvent.emit(h)}),this.globalService.photoIdFilesEvent.subscribe(h=>{h?.forEach((g,y)=>{this.getActualVal(this.item.value.value.type)==g.type&&(console.log(y.toString()+""+g.type),this.imgPath="pdf"==g.path.split(".").pop()?"assets/images/pdf_icon.jpg":g.path,""!=g.path&&(this.uploadPDFFileName=g.path.split("/").pop()),this.photoIdForm.get("category").setValue(g.type),this.document_status=g.status,this.document_reject_remark=g.remark)})}),""!=(null===(_=this.item.value.value)||void 0===_?void 0:_.id_name)&&(this.inputReadOnly=!1)}getActualVal(t){return"Voter ID"==t?"voter-id":"PAN Card"==t?"pan-card":"Driving License"==t?"driving-license":"Adhaar card"==t?"aadhar-card":t}checkValidation(t){return null==this.validation||!!this.validation.includes(t)}takePhoto(){return(0,d.mG)(this,void 0,void 0,function*(){""!=this.photoIdForm.get("category").value?this.fileInput.nativeElement.click():this.globalService.showError("Please select category")})}uploadPhoto(t){const n=t.target.files[0];if(this.extension=n.type,this.uploadPDFFileName=n.name,n.size>=b.m_)this.globalService.showError("Image file should be less than 10 MB");else{var o=new FileReader;o.onload=r=>{let c=r.target.result;this.imgPath=c,this.openImageModal(c),"application/pdf"==this.extension&&(this.imgPath="assets/images/pdf_icon.jpg")},o.readAsDataURL(n),this.selectedFile=n}}openImageModal(t){return(0,d.mG)(this,void 0,void 0,function*(){this.imageModal=yield this.modalController.create({component:k,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{imgPath:t,type:"application/pdf"==this.extension?"pdf":"image"}}),yield this.imageModal.present(),yield this.imageModal.onDidDismiss().then(n=>{console.log(n),"start_upload"==n.data&&this.uploadDoc()})})}removeFile(){this.selectedFile="",this.imgPath="",this.uploadPDFFileName=""}uploadDoc(){return(0,d.mG)(this,void 0,void 0,function*(){if(this.uploadSubmit=!0,void 0===this.selectedFile)return;this.contentUploading();const t=new FormData;this.category=this.photoIdForm.get("category").value;var n="";"voter-id"==this.category?n="voterid":"aadhar-card"==this.category?n="id":"driving-license"==this.category?n="dl":"pan-card"==this.category&&(n="pan"),t.append("countryId","ind"),t.append("documentId",n),t.append("expectedDocumentSide","front"),t.append("image",this.selectedFile);const o=localStorage.getItem("ca_user_id");this.hypervergeApiService.uploadDocument(t,o).subscribe(r=>{this.contentUploadModal.dismiss(),console.log(r),"success"==r.status&&(this.hit_count++,"aadhar-card"==this.category?(this.photoIdForm.get("id_name").setValue("Adhaar card"),this.photoIdForm.get("type").setValue("Adhaar card")):"pan-card"==this.category?(this.photoIdForm.get("id_name").setValue("PAN Card"),this.photoIdForm.get("type").setValue("PAN Card")):"voter-id"==this.category?(this.photoIdForm.get("id_name").setValue("Voter ID"),this.photoIdForm.get("type").setValue("Voter ID")):"driving-license"==this.category&&(this.photoIdForm.get("id_name").setValue("Driving License"),this.photoIdForm.get("type").setValue("Driving License")),this.is_document_uploaded=!0,this.extracted_json=r.result,this.photoIdForm.get("id_num").setValue(r.result.details[0].fieldsExtracted.idNumber.value),this.photoIdForm.get("mem_name").setValue(r.result.details[0].fieldsExtracted.fullName.value))},r=>{this.ocr_error.push(r.error),this.globalService.showError(r.error.result.error),this.contentUploadModal.dismiss()})})}contentUploading(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:A,backdropDismiss:!0,mode:"ios",componentProps:{content:"Please give us a moment as we read your Photo ID",heading:"Photo ID Details"}}),yield this.contentUploadModal.present()})}errorScreen(t,n){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploadModal=yield this.modalController.create({component:G,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{ocr_error:t,critical_case:n,button_message:"Photo ID",heading:"Oops!"}}),yield this.contentUploadModal.present(),yield this.contentUploadModal.onDidDismiss().then(o=>{"confirm"==o.data?(this.inputReadOnly=!1,this.photoIdForm.get("filled_manually").setValue(!0),this.criticalEvent2.emit(!1),console.log("confirm clicked")):console.log("confirm not clicked")})})}uploadDocuments(){return(0,d.mG)(this,void 0,void 0,function*(){this.contentUploading();const t=new FormData;t.append("attribute_code",this.item.value.code),t.append("traveller_form_id",this.item.value.traveller_form_id),t.append("type",this.photoIdForm.get("category").value),t.append("name",this.photoIdForm.get("category").value),t.append("ocr_error",JSON.stringify(this.ocr_error)),t.append("extracted_json",JSON.stringify(this.extracted_json)),t.append("hit_count",this.hit_count.toString()),t.append("ocr_transaction_id",P()),t.append("file",this.selectedFile),this.formApiService.uploadDocument(t).subscribe(n=>{this.contentUploadModal.dismiss(),n.success&&(this.is_document_uploaded=!1,this.photoIdForm.get("is_document_uploaded").setValue("uploaded"))})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(q.U),e.Y36(F.$),e.Y36(l.IN),e.Y36($))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-photo-id"]],viewQuery:function(t,n){if(1&t&&e.Gf($t,7),2&t){let o;e.iGM(o=e.CRH())&&(n.fileInput=o.first)}},inputs:{item:"item"},outputs:{criticalEvent2:"criticalEvent2",photoIdEvent:"photoIdEvent"},decls:58,vars:33,consts:[[3,"formGroup"],["color","danger",4,"ngIf"],[3,"disabled"],[1,"form-group"],["formControlName","category","interface","action-sheet"],["value",""],["value","aadhar-card",4,"ngIf"],["value","pan-card",4,"ngIf"],["value","voter-id",4,"ngIf"],["value","driving-license",4,"ngIf"],[4,"ngFor","ngForOf"],["size","4"],["style","border: 1px #eee solid;padding: 13px;border-radius: 5px;text-align: center;",4,"ngIf"],["type","file","id","fileInput","hidden","","accept","image/png, image/jpg, image/jpeg, application/pdf",3,"change"],["fileInput",""],["style","width:100px;height:100px;object-fit: cover;",3,"src",4,"ngIf"],["size","8"],["type","button","ion-button","",1,"primary-btn-sm",3,"click"],["class","error-message",4,"ngIf"],["class","error-message","style","color:black;width: 100%;",4,"ngIf"],["class","compulsory",4,"ngIf"],["type","text","formControlName","id_name",3,"readonly"],["type","text","formControlName","id_num",3,"readonly"],["type","text","formControlName","mem_name",3,"readonly"],["type","button","class","primary-btn","ion-button","","size","full",3,"click",4,"ngIf"],["color","danger"],["value","aadhar-card"],["value","pan-card"],["value","voter-id"],["value","driving-license"],[1,"error-message"],[2,"border","1px #eee solid","padding","13px","border-radius","5px","text-align","center"],["name","document-attach-outline",2,"font-size","40px"],[2,"font-size","10px"],[2,"width","100px","height","100px","object-fit","cover",3,"src"],[1,"error-message",2,"color","black","width","100%"],[1,"compulsory"],["type","button","ion-button","","size","full",1,"primary-btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.YNc(1,Rt,6,1,"ion-card",1),e.TgZ(2,"ion-card",2)(3,"ion-card-content")(4,"div",3)(5,"ion-label"),e._uU(6),e.qZA(),e.TgZ(7,"ion-select",4)(8,"ion-select-option",5),e._uU(9,"-- Select --"),e.qZA(),e.YNc(10,Vt,2,0,"ion-select-option",6),e.YNc(11,zt,2,0,"ion-select-option",7),e.YNc(12,Ht,2,0,"ion-select-option",8),e.YNc(13,Lt,2,0,"ion-select-option",9),e.qZA()(),e.YNc(14,Xt,2,1,"ng-container",10),e.qZA()(),e.TgZ(15,"ion-card",2)(16,"ion-card-content")(17,"label"),e._uU(18),e.qZA(),e.TgZ(19,"ion-row")(20,"ion-col",11),e.YNc(21,Wt,5,0,"div",12),e.TgZ(22,"input",13,14),e.NdJ("change",function(r){return n.uploadPhoto(r)}),e.qZA(),e.YNc(24,en,1,1,"img",15),e.qZA(),e.TgZ(25,"ion-col",16)(26,"ion-button",17),e.NdJ("click",function(){return n.takePhoto()}),e._uU(27),e.qZA(),e.TgZ(28,"p"),e._uU(29),e.qZA(),e.TgZ(30,"p"),e._uU(31),e.qZA()()(),e.TgZ(32,"ion-row"),e.YNc(33,tn,3,0,"div",18),e.qZA(),e.TgZ(34,"ion-row"),e.YNc(35,nn,3,1,"div",19),e.qZA()()(),e.TgZ(36,"ion-card",2)(37,"ion-card-content")(38,"div",3)(39,"label"),e._uU(40),e.YNc(41,on,2,0,"span",20),e.qZA(),e._UZ(42,"ion-input",21),e.YNc(43,rn,2,1,"ng-container",10),e.qZA(),e.TgZ(44,"div",3)(45,"label"),e._uU(46),e.YNc(47,sn,2,0,"span",20),e.qZA(),e._UZ(48,"ion-input",22),e.YNc(49,cn,2,1,"ng-container",10),e.qZA(),e.TgZ(50,"div",3)(51,"label"),e._uU(52),e.YNc(53,pn,2,0,"span",20),e.qZA(),e._UZ(54,"ion-input",23),e.YNc(55,un,2,1,"ng-container",10),e.qZA(),e.YNc(56,_n,2,0,"ion-button",24),e.YNc(57,gn,2,1,"ng-container",10),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.photoIdForm),e.xp6(1),e.Q6J("ngIf","rejected"==n.document_status),e.xp6(1),e.Q6J("disabled",n.photo_id_status),e.xp6(4),e.Oqu(null==n.item||null==n.item.value?null:n.item.value.name),e.xp6(4),e.Q6J("ngIf",n.checkValidation("Adhaar card")||n.checkValidation("Aadhar Card")),e.xp6(1),e.Q6J("ngIf",n.checkValidation("PAN Card")),e.xp6(1),e.Q6J("ngIf",n.checkValidation("Voter ID")),e.xp6(1),e.Q6J("ngIf",n.checkValidation("Driving License")),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.category),e.xp6(1),e.Q6J("disabled",n.photo_id_status),e.xp6(3),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.select_photo),e.xp6(3),e.Q6J("ngIf",!n.imgPath),e.xp6(3),e.Q6J("ngIf",n.imgPath),e.xp6(3),e.Oqu(n.uploadedID?"Update":"Upload"),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.size),e.xp6(2),e.Oqu(null==n.attribute_lang?null:n.attribute_lang.format_both),e.xp6(2),e.Q6J("ngIf",void 0===n.selectedFile&&n.uploadSubmit),e.xp6(2),e.Q6J("ngIf",""!=n.uploadPDFFileName),e.xp6(1),e.Q6J("disabled",n.photo_id_status),e.xp6(4),e.hij("",null==n.attribute_lang?null:n.attribute_lang.id_name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.photo_id_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.id_name),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.id_num," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.photo_id_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.id_num),e.xp6(3),e.hij("",null==n.attribute_lang?null:n.attribute_lang.mem_name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("readonly",n.inputReadOnly||n.photo_id_status),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.mem_name),e.xp6(1),e.Q6J("ngIf",n.is_document_uploaded),e.xp6(1),e.Q6J("ngForOf",n.validationMessages.is_document_uploaded))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.YG,l.PM,l.FN,l.wI,l.gu,l.pK,l.Q$,l.Nd,l.t9,l.n0,l.QI,l.j9,s.sg,s.u],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}ion-card[_ngcontent-%COMP%]{margin:10px 0}.cross_pic_choose[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer;border-width:0!important;position:absolute;margin-left:-20px;margin-top:-6px}"]}),i})();function hn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-select-option",14),e._uU(2),e.qZA(),e.BQk()),2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("value",n.showOptionsId(t)),e.xp6(1),e.Oqu(n.showOptionsValue(t))}}function fn(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e.TgZ(3,"ion-select",12),e.NdJ("ionChange",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.changeFieldValue(o))}),e.YNc(4,hn,3,2,"ng-container",13),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2),n=t.$implicit,o=t.index,r=e.oxw();e.xp6(2),e.hij("",r.showItem(n)," "),e.xp6(2),e.Q6J("ngForOf",r.getOptions(o).controls)}}function vn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"input",15),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," ")}}function xn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," ")}}function bn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"textarea",17),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," ")}}function Fn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," ")}}function yn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-input",16),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," ")}}function Zn(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-file-upload",18),e.NdJ("fileUploadEvent",function(o){e.CHM(t);const r=e.oxw(2).$implicit,c=e.oxw();return e.KtG(c.fileUploadFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(1),e.Q6J("item",n.getFileItem(t))("is_required",n.is_required)}}function Tn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,fn,5,2,"ng-container",11),e.YNc(2,vn,4,1,"ng-container",11),e.YNc(3,xn,4,1,"ng-container",11),e.YNc(4,bn,4,1,"ng-container",11),e.YNc(5,Fn,4,1,"ng-container",11),e.YNc(6,yn,4,1,"ng-container",11),e.YNc(7,Zn,2,2,"ng-container",11),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf","select"==n.getType(t)&&!n.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","date"==n.getType(t)&&!n.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","text"==n.getType(t)&&!n.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","textarea"==n.getType(t)&&!n.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","email"==n.getType(t)&&!n.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","phone"==n.getType(t)&&!n.isHiddenField(t)),e.xp6(1),e.Q6J("ngIf","image"==n.getType(t)&&!n.isHiddenField(t))}}function In(i,a){if(1&i&&(e.ynx(0,9),e.TgZ(1,"div",10),e.YNc(2,Tn,8,7,"ng-container",11),e.qZA(),e.BQk()),2&i){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(1),e.Q6J("formGroupName",n),e.xp6(1),e.Q6J("ngIf","select"==o.getType(t)||"date"==o.getType(t)||"text"==o.getType(t)||"image"==o.getType(t)||"textarea"==o.getType(t))}}function Cn(i,a){1&i&&(e.TgZ(0,"ion-button",19),e._uU(1,"Submit"),e.qZA())}let z=(()=>{class i{constructor(t,n,o,r){this.modalCtrl=t,this.fb=n,this.popoverCtrl=o,this.formApiService=r,this.ques=new s.Oe([]),this.loading=!1}ngOnInit(){this.loadMemberForm(),this.questions=new s.cw({question:new s.Oe([])})}loadMemberForm(){this.loading=!0,this.formApiService.getMemberForm(this.language).subscribe(t=>{this.data=t,this.loading=!1,t.forEach((n,o)=>{var r;this.ques=this.questions.get("question"),this.ques.push(this.createQuestion(n)),null===(r=n?.options)||void 0===r||r.forEach(c=>{this.getOptions(o).push(this.createOption(c))})}),this.validateForm()})}validateForm(){this.questions.value.question.forEach(t=>{JSON.parse(t.conditions)?.forEach(o=>{this.questions.value.question.forEach((r,c)=>{r.code==o.field&&(o.value===t.value&&"=="==o.operator||"||"==o.operator&&o.value.includes(t.value)?this.questionForm().at(c).get("is_hidden").setValue(!1):o.value===t.value&&this.questionForm().at(c).get("is_hidden").setValue(!0))})})})}createQuestion(t){return this.fb.group({code:t.code,is_required:t.is_required,is_hidden:t.is_hidden,name:t.name,placeholder:t.placeholder,type:t.type,value:"Add"==this.method_type?"":this.editItem[t.code],validation:t.validation,conditions:JSON.stringify(t.conditions),options:new s.Oe([])})}createOption(t){return this.fb.group({name:t.name,value:t.value})}getOptions(t){return this.questionForm().at(t).get("options")}questionForm(){return this.questions.get("question")}closeModal(){this.modalCtrl.dismiss({status:"close"})}showValue(t){return t.value.value}formatDate(t,n){Array.isArray(t)&&(t=t[0]);const o=new Date(t);let r=o.getDate().toString();1==r.length&&(r="0"+r);const c=o.getFullYear()+"-"+b.j8[o.getMonth()]+"-"+r;return n.value.value=c,c}closePopup(){this.popoverCtrl.dismiss()}showOptionsValue(t){return t.controls.name.value}showOptionsId(t){return t.controls.value.value}showItem(t){return t.value.name}isHiddenField(t){return t.value.is_hidden}getType(t){return t.value.type}onSubmit(){if(this.questions.valid){var t={};console.log(this.questions.value.question),this.questions.value.question.forEach(n=>{t[n.code]=n.value}),this.modalCtrl.dismiss({member:t,status:"added"})}else this.questions.markAllAsTouched()}fileUploadFun(t,n){n.value.value=t.value}getFileItem(t){return t.value.attribute_value_id=this.attribute_value_id,t}changeFieldValue(t){this.questions.markAllAsTouched(),JSON.parse(t.value.conditions)?.forEach(o=>{this.questions.value.question.forEach((r,c)=>{r.code==o.field&&(o.value===t.value.value&&"=="==o.operator||"||"==o.operator&&o.value.includes(t.value.value)?this.questionForm().at(c).get("is_hidden").setValue(!1):this.questionForm().at(c).get("is_hidden").setValue(!0))})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.IN),e.Y36(s.qu),e.Y36(l.Dh),e.Y36(F.$))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-member"]],decls:10,vars:4,consts:[[1,"ion-padding"],[2,"padding","20px","padding-top","0px"],[2,"text-align","right"],["name","close-circle-outline",1,"close-icon",3,"click"],["align","center"],[3,"formGroup","ngSubmit"],["formArrayName","question",4,"ngFor","ngForOf"],[1,"form-group"],["type","submit","class","primary-btn","ion-button","","size","full",4,"ngIf"],["formArrayName","question"],[1,"form-group",3,"formGroupName"],[4,"ngIf"],["formControlName","value","interface","action-sheet",3,"ionChange"],[4,"ngFor","ngForOf"],[3,"value"],["type","date","formControlName","value"],["formControlName","value","type","text"],["formControlName","value"],[3,"item","is_required","fileUploadEvent"],["type","submit","ion-button","","size","full",1,"primary-btn"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-icon",3),e.NdJ("click",function(){return n.closeModal()}),e.qZA()(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.YNc(7,In,3,2,"ng-container",6),e.TgZ(8,"div",7),e.YNc(9,Cn,2,0,"ion-button",8),e.qZA()()()()),2&t&&(e.xp6(5),e.Oqu("Add"==n.method_type?"Add Secondary":"Edit Secondary"),e.xp6(1),e.Q6J("formGroup",n.questions),e.xp6(1),e.Q6J("ngForOf",n.questionForm().controls),e.xp6(2),e.Q6J("ngIf",!n.loading))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,l.YG,l.W2,l.gu,l.pK,l.Q$,l.t9,l.n0,l.QI,l.j9,s.sg,s.u,s.x0,s.CE,J],styles:["ion-item[_ngcontent-%COMP%]::part(native){border:1px #888888 solid;border-width:1px;padding:0 0 0 5px;border-radius:5px}ion-item[_ngcontent-%COMP%]{margin-bottom:10px;border-bottom:0px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-left:5px}.close-icon[_ngcontent-%COMP%]{font-size:20px;margin-top:10px}h5[_ngcontent-%COMP%]{margin-top:0;padding-top:0;color:#00008b}ion-content[_ngcontent-%COMP%]{min-height:100%}ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px;padding:0 10px!important;min-height:50px}.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-card[_ngcontent-%COMP%]{margin:0}ion-content[_ngcontent-%COMP%]{--background: #fff !important}ion-popover[_ngcontent-%COMP%]{--width: 300px}ion-datetime[_ngcontent-%COMP%]{background:#fff;--background: #fff}"]}),i})();function kn(i,a){if(1&i&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2,"Corporate Paid Nominations"),e.qZA(),e.TgZ(3,"ion-badge",3),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(4),e.Oqu(t.corporate_member_allowed)}}function qn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),r=o.$implicit,c=o.index,u=e.oxw();return e.KtG(u.editMember(r,c))}),e._uU(1,"Edit"),e.qZA()}}function Pn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.removeRecord(o))}),e._UZ(1,"ion-icon",11),e.qZA()}}function wn(i,a){if(1&i&&(e.TgZ(0,"ion-card",4)(1,"ion-card-content")(2,"ion-row")(3,"ion-col",5)(4,"div",6)(5,"b"),e._uU(6,"Name"),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"ion-col",5)(9,"div",6)(10,"b"),e._uU(11,"Relation"),e.qZA(),e._uU(12),e.qZA()()(),e.TgZ(13,"ion-row"),e.YNc(14,qn,2,0,"ion-button",7),e._uU(15,"\xa0 "),e.YNc(16,Pn,2,0,"ion-button",8),e.qZA()()()),2&i){const t=a.$implicit,n=e.oxw();e.xp6(7),e.hij(": ",t.name,""),e.xp6(5),e.hij(": ",t.relation,""),e.xp6(2),e.Q6J("ngIf",0==n.form_data.secondary_members.length),e.xp6(2),e.Q6J("ngIf",0==n.form_data.secondary_members.length)}}function An(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMember())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.hij("Add ",t.corporate_member_allowed-t.values.length," Nomination")}}function Un(i,a){if(1&i&&(e.ynx(0),e.YNc(1,An,2,1,"ion-button",12),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.checkMemberButton())}}function Nn(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addMember())}),e._uU(1,"Add Seft Paid Traveller"),e.qZA()}}function Mn(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Nn,2,0,"ion-button",12),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.checkMemberButton())}}let Jn=(()=>{class i{constructor(t){this.modalController=t,this.memberEvent=new e.vpe,this.button_name="Loading...",this.values=[],this.disabledAddMemberButton=!1}ngOnInit(){var t,n;this.corporate_member_allowed=Number(this.form_data.total_corporate_paid_nominations_allowed),this.self_paid_member_allowed=Number(this.form_data.total_self_paid_nominations_allowed),this.button_name=this.item.value.name,null!=this.form_data.secondary_members&&(null===(t=this.form_data.secondary_members)||void 0===t?void 0:t.length)>0&&(this.values=null!==(n=this.form_data.secondary_members)&&void 0!==n?n:[])}checkMemberButton(){return this.values.length<=this.corporate_member_allowed+this.self_paid_member_allowed}addMember(){return(0,d.mG)(this,void 0,void 0,function*(){this.createMember=yield this.modalController.create({component:z,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{heading:"Form Submitted",language:this.lang,method_type:"Add",attribute_value_id:this.item.value.attribute_value_id}}),yield this.createMember.present(),yield this.createMember.onDidDismiss().then(t=>{"added"==t.data.status&&this.values.push(t.data.member),this.memberEvent.emit(this.values)})})}editMember(t,n){return(0,d.mG)(this,void 0,void 0,function*(){this.createMember=yield this.modalController.create({component:z,backdropDismiss:!0,mode:"ios",id:"datemodal",componentProps:{heading:"Form Submitted",language:this.lang,method_type:"Edit",editItem:t,is_required:!0,attribute_value_id:this.item.value.attribute_value_id}}),yield this.createMember.present(),yield this.createMember.onDidDismiss().then(o=>{var r;"added"==(null===(r=o?.data)||void 0===r?void 0:r.status)&&this.values.splice(n,1,o.data.member),this.memberEvent.emit(this.values)})})}removeRecord(t){this.values.splice(t,1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-member"]],inputs:{lang:"lang",item:"item",form_data:"form_data"},outputs:{memberEvent:"memberEvent"},decls:6,vars:4,consts:[[2,"text-align","center"],[4,"ngIf"],["style","border-radius: 15px;",4,"ngFor","ngForOf"],["color","success"],[2,"border-radius","15px"],["size","6"],[2,"text-align","left","font-size","20px"],["ion-button","","class","primary-btn-sm2",3,"click",4,"ngIf"],["ion-button","","color","danger","size","small","style","margin: 0px;",3,"click",4,"ngIf"],["ion-button","",1,"primary-btn-sm2",3,"click"],["ion-button","","color","danger","size","small",2,"margin","0px",3,"click"],["name","trash","aria-label","Favorite"],["type","button","ion-button","","class","add-member-button",3,"click",4,"ngIf"],["type","button","ion-button","",1,"add-member-button",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"ion-list"),e.YNc(2,kn,5,1,"ion-item",1),e.qZA(),e.YNc(3,wn,17,4,"ion-card",2),e.YNc(4,Un,2,1,"ng-container",1),e.YNc(5,Mn,2,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.values.length<n.corporate_member_allowed),e.xp6(1),e.Q6J("ngForOf",n.values),e.xp6(1),e.Q6J("ngIf",n.values.length<n.corporate_member_allowed),e.xp6(1),e.Q6J("ngIf",n.values.length>=n.corporate_member_allowed&&n.values.length<n.corporate_member_allowed+n.self_paid_member_allowed))},dependencies:[p.sg,p.O5,l.yp,l.YG,l.PM,l.FN,l.wI,l.gu,l.Ie,l.Q$,l.q_,l.Nd],styles:[".add-member-button[_ngcontent-%COMP%]{height:60px}.add-member-button[_ngcontent-%COMP%]::part(native){--background: #bde0fe;color:#000;border:1px blue dashed;padding:20px 40px}"]}),i})();var Qn=f(3646);function On(i,a){1&i&&(e.TgZ(0,"span",3),e._uU(1,"*"),e.qZA())}function En(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",4),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.getSelectedHobbies())}),e._UZ(1,"ion-checkbox",5),e.TgZ(2,"ion-label"),e._uU(3),e.qZA()()}if(2&i){const t=a.index,n=e.oxw();e.Q6J("disabled",n.checkbox_status),e.xp6(1),e.Q6J("formControlName",t),e.xp6(2),e.hij("\xa0\xa0",n.item.value.options[t].name,"")}}let Sn=(()=>{class i{constructor(t){this.fb=t,this.checkboxEvent=new e.vpe,this.attribute_lang={},this.hobbies=this.fb.array([]),this.selectedValues=[],this.checkbox_status=!1,this.validationMessages={checkbox:[{type:"required",message:"Address is required"}]}}ngOnInit(){var t,n;console.log(this.item.value),this.checkboxForm=this.fb.group({checkboxs:this.fb.array([])}),!(null===(t=this.item.value.value)||void 0===t)&&t.split(",")&&(this.selectedValues=null===(n=this.item.value.value)||void 0===n?void 0:n.split(",")),console.log(this.selectedValues),this.hobbies=this.checkboxForm.get("checkboxs"),this.item.value.options.forEach(o=>{let r=!1;this.selectedValues.length>0&&this.selectedValues.includes(o.id.toString())&&(r=!0),this.hobbies.push(this.fb.control(r))}),this.checkbox_status=this.item.value.is_locked}getCheckboxForm(){return this.checkboxForm.get("checkboxs")}getSelectedHobbies(){this.selectedValues=[],this.hobbies.controls.filter((n,o)=>{1==n.value&&this.item.value.options.forEach((r,c)=>{o==c&&this.selectedValues.push(r.id)})}),this.checkboxEvent.emit(JSON.stringify(this.selectedValues))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(s.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-checkbox"]],inputs:{item:"item",isRequired:"isRequired"},outputs:{checkboxEvent:"checkboxEvent"},decls:7,vars:4,consts:[[3,"formGroup"],["class","compulsory",4,"ngIf"],["formArrayName","checkboxs",3,"disabled","click",4,"ngFor","ngForOf"],[1,"compulsory"],["formArrayName","checkboxs",3,"disabled","click"],[3,"formControlName"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"ion-card")(2,"ion-card-content")(3,"ion-label"),e._uU(4),e.YNc(5,On,2,0,"span",1),e.qZA(),e.YNc(6,En,4,3,"ion-item",2),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.checkboxForm),e.xp6(4),e.hij("",null==n.item?null:n.item.value.name," "),e.xp6(1),e.Q6J("ngIf",n.item.value.is_required),e.xp6(1),e.Q6J("ngForOf",n.getCheckboxForm().controls))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,l.PM,l.FN,l.nz,l.Ie,l.Q$,l.w,s.sg,s.u,s.CE],styles:["ion-card[_ngcontent-%COMP%]{margin:10px 0}ion-checkbox[_ngcontent-%COMP%]{--size: 25px;--background-checked: var(--button-bgcolor)}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #ddd}"]}),i})();const Yn=["content"],Dn=["segment"];function Bn(i,a){if(1&i&&(e.TgZ(0,"ion-segment-button",14)(1,"ion-label"),e._uU(2),e.qZA()()),2&i){const t=a.$implicit,n=e.oxw();e.Q6J("value",t),e.xp6(2),e.hij(" ",n.step_names[n.temp_steps[t]],"")}}function jn(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function Gn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-select-option",14),e._uU(2),e.qZA(),e.BQk()),2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(1),e.Q6J("value",n.showOptionsId(t)),e.xp6(1),e.hij("",n.showOptionsValue(t)," ")}}function $n(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Rn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,jn,2,0,"span",18),e.qZA(),e.TgZ(4,"ion-select",19),e.YNc(5,Gn,3,2,"ng-container",10),e.qZA(),e.YNc(6,$n,3,0,"div",20),e.BQk()),2&i){const t=e.oxw(2),n=t.$implicit,o=t.index,r=e.oxw();e.xp6(2),e.hij("",r.showItem(n)," "),e.xp6(1),e.Q6J("ngIf",r.getIsRequired(n)),e.xp6(1),e.Q6J("multiple","multiselect"==r.getType(n)),e.xp6(1),e.Q6J("ngForOf",r.getOptions(o).controls),e.xp6(1),e.Q6J("ngIf",r.checkRequired(n))}}function Vn(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function zn(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Hn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Vn,2,0,"span",18),e.qZA(),e._UZ(4,"input",23),e.YNc(5,zn,3,0,"div",20),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",n.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",n.checkRequired(t))}}function Ln(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function Kn(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Xn(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Ln,2,0,"span",18),e.qZA(),e._UZ(4,"input",24),e.YNc(5,Kn,3,0,"div",20),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",n.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",n.checkRequired(t))}}function Wn(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function ei(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function ti(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.getValidationMessage(t)," ")}}function ni(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.getValidationMessage(t))}}function ii(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.getValidationMessage(t))}}function oi(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,Wn,2,0,"span",18),e.qZA(),e._UZ(4,"ion-input",25),e.YNc(5,ei,3,0,"div",20),e.YNc(6,ti,3,1,"div",20),e.YNc(7,ni,3,1,"div",20),e.YNc(8,ii,3,1,"div",20),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",n.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",n.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",n.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",n.checkMin(t)),e.xp6(1),e.Q6J("ngIf",n.checkMax(t))}}function ai(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function ri(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function si(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-item",26),e._uU(2),e.YNc(3,ai,2,0,"span",18),e._UZ(4,"ion-toggle",27),e.qZA(),e.YNc(5,ri,3,0,"div",20),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij(" ",n.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",n.getIsRequired(t)),e.xp6(1),e.Q6J("enableOnOffLabels",!0),e.xp6(1),e.Q6J("ngIf",n.checkRequired(t))}}function li(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function ci(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function pi(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.getValidationMessage(t)," ")}}function di(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.getValidationMessage(t))}}function ui(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.getValidationMessage(t))}}function _i(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,li,2,0,"span",18),e.qZA(),e._UZ(4,"ion-textarea",28),e.YNc(5,ci,3,0,"div",20),e.YNc(6,pi,3,1,"div",20),e.YNc(7,di,3,1,"div",20),e.YNc(8,ui,3,1,"div",20),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.showItem(t)),e.xp6(1),e.Q6J("ngIf",n.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",n.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",n.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",n.checkMin(t)),e.xp6(1),e.Q6J("ngIf",n.checkMax(t))}}function mi(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function gi(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function hi(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.getValidationMessage(t)," ")}}function fi(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.getValidationMessage(t))}}function vi(i,a){if(1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(3).$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.getValidationMessage(t))}}function xi(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,mi,2,0,"span",18),e.qZA(),e._UZ(4,"ion-input",29),e.YNc(5,gi,3,0,"div",20),e.YNc(6,hi,3,1,"div",20),e.YNc(7,fi,3,1,"div",20),e.YNc(8,vi,3,1,"div",20),e.BQk()),2&i){const t=e.oxw(2).$implicit,n=e.oxw();e.xp6(2),e.hij("",n.showItem(t)," "),e.xp6(1),e.Q6J("ngIf",n.getIsRequired(t)),e.xp6(2),e.Q6J("ngIf",n.checkRequired(t)),e.xp6(1),e.Q6J("ngIf",n.checkPattern(t)),e.xp6(1),e.Q6J("ngIf",n.checkMin(t)),e.xp6(1),e.Q6J("ngIf",n.checkMax(t))}}function bi(i,a){1&i&&(e.TgZ(0,"span",21),e._uU(1,"*"),e.qZA())}function Fi(i,a){if(1&i&&(e.TgZ(0,"ion-item")(1,"ion-label"),e._uU(2),e.qZA(),e._UZ(3,"ion-radio",31),e.qZA()),2&i){const t=a.$implicit,n=e.oxw(4);e.xp6(2),e.Oqu(n.showOptionsValue(t)),e.xp6(1),e.Q6J("value",n.showOptionsId(t))}}function yi(i,a){1&i&&(e.TgZ(0,"div",22)(1,"span"),e._uU(2,"Required"),e.qZA()())}function Zi(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-label"),e._uU(2),e.YNc(3,bi,2,0,"span",18),e.qZA(),e.TgZ(4,"ion-radio-group",30),e.YNc(5,Fi,4,2,"ion-item",10),e.qZA(),e.YNc(6,yi,3,0,"div",20),e.BQk()),2&i){const t=e.oxw(2),n=t.$implicit,o=t.index,r=e.oxw();e.xp6(2),e.hij("",r.showItem(n)," "),e.xp6(1),e.Q6J("ngIf",r.getIsRequired(n)),e.xp6(2),e.Q6J("ngForOf",r.getOptions(o).controls),e.xp6(1),e.Q6J("ngIf",r.checkRequired(n))}}function Ti(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"ion-card",17)(2,"ion-card-content"),e.YNc(3,Rn,7,5,"ng-container",9),e.YNc(4,Hn,6,3,"ng-container",9),e.YNc(5,Xn,6,3,"ng-container",9),e.YNc(6,oi,9,6,"ng-container",9),e.YNc(7,si,6,4,"ng-container",9),e.YNc(8,_i,9,6,"ng-container",9),e.YNc(9,xi,9,6,"ng-container",9),e.YNc(10,Zi,7,4,"ng-container",9),e.qZA()(),e.BQk()),2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("disabled",n.getStatus(t)),e.xp6(2),e.Q6J("ngIf","select"==n.getType(t)||"multiselect"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","date"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","datetime"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","text"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","boolean"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","textarea"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","price"==n.getType(t)),e.xp6(1),e.Q6J("ngIf","radio"==n.getType(t))}}function Ii(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-input-phone",32),e.NdJ("inputPhoneEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.inputPhoneFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Ci(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-input-email",33),e.NdJ("inputEmailEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.inputEmailFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function ki(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-lookup",34),e.NdJ("lookupEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.lookupFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function qi(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-checkbox",35),e.NdJ("checkboxEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.checkboxFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Pi(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-file-upload",36),e.NdJ("fileUploadEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.fileUploadFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function wi(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-image-upload",37),e.NdJ("imageUploadEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.imageUploadEvent(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Ai(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-address",38),e.NdJ("addressEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.addressFun(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("item",t)("isRequired",n.getIsRequired(t))}}function Ui(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-photo-id",39),e.NdJ("criticalEvent",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.criticalFun(o))})("photoIdEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.photoIdFun(o,r))})("scrollEvent",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.scrollScreen(o))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Ni(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-passport",40),e.NdJ("criticalEvent",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.criticalFun(o))})("passportEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.passportFun(o,r))})("scrollEvent",function(o){e.CHM(t);const r=e.oxw(2);return e.KtG(r.scrollScreen(o))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("item",t)}}function Mi(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-member",41),e.NdJ("memberEvent",function(o){e.CHM(t);const r=e.oxw().$implicit,c=e.oxw();return e.KtG(c.memberEvent(o,r))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("item",t)("lang",n.lang)("form_data",n.form_data)}}function Ji(i,a){if(1&i&&(e.ynx(0,15),e.TgZ(1,"div",16),e.YNc(2,Ti,11,9,"ng-container",9),e.YNc(3,Ii,2,1,"ng-container",9),e.YNc(4,Ci,2,1,"ng-container",9),e.YNc(5,ki,2,1,"ng-container",9),e.YNc(6,qi,2,1,"ng-container",9),e.YNc(7,Pi,2,1,"ng-container",9),e.YNc(8,wi,2,1,"ng-container",9),e.YNc(9,Ai,2,2,"ng-container",9),e.YNc(10,Ui,2,1,"ng-container",9),e.YNc(11,Ni,2,1,"ng-container",9),e.YNc(12,Mi,2,3,"ng-container",9),e.qZA(),e.BQk()),2&i){const t=a.$implicit,n=a.index,o=e.oxw();e.xp6(1),e.Q6J("formGroupName",n),e.xp6(1),e.Q6J("ngIf","radio"==o.getType(t)||"price"==o.getType(t)||"select"==o.getType(t)||"multiselect"==o.getType(t)||"date"==o.getType(t)||"datetime"==o.getType(t)||"text"==o.getType(t)||"textarea"==o.getType(t)||"boolean"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","phone"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","email"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","lookup"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","checkbox"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","file"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","image"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","address"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","photo_id"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","passport"==o.getType(t)),e.xp6(1),e.Q6J("ngIf","add_member"==o.getType(t))}}function Qi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-card")(1,"ion-card-content"),e._UZ(2,"div",42)(3,"br"),e.TgZ(4,"div")(5,"ion-checkbox",43),e.NdJ("ionChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.termsChkBoxEvent())}),e.qZA(),e.TgZ(6,"ion-label"),e._uU(7,"\xa0\xa0I do hereby declare that all the above information given by me are true to the best of my knowledge and belief."),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("innerHTML",t.footerText,e.oJD),e.xp6(3),e.Q6J("checked",t.isTerms)}}function Oi(i,a){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=a.$implicit;e.xp6(1),e.Oqu(t)}}function Ei(i,a){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"p")(2,"span",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,r=e.oxw();return e.KtG(r.changeStep(o))}),e._uU(3),e.qZA(),e._uU(4,": "),e.qZA(),e.TgZ(5,"ul",45),e.YNc(6,Oi,2,1,"li",10),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(),n=t.$implicit,o=t.index,r=e.oxw();e.xp6(3),e.Oqu(r.step_names[n]),e.xp6(3),e.Q6J("ngForOf",r.getErrors(o+1))}}function Si(i,a){if(1&i&&(e.ynx(0),e.YNc(1,Ei,7,2,"ng-container",9),e.BQk()),2&i){const t=a.index,n=e.oxw();let o;e.xp6(1),e.Q6J("ngIf",(null==(o=n.getErrors(t+1))?null:o.length)>0)}}function Yi(i,a){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",46),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.goToNext())}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.currentStep==t.total_steps?"Close":"Next")}}function Di(i,a){if(1&i&&(e.TgZ(0,"ion-button",47),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.Q6J("disabled",t.criticalError),e.xp6(1),e.Oqu(t.total_steps==t.currentStep?"Complete":"Save & Next")}}function Bi(i,a){1&i&&(e.TgZ(0,"div",48),e._UZ(1,"img",49),e.qZA())}const ji=[{path:"",component:(()=>{class i{constructor(t,n,o,r,c,u,m,_,h){this.formApiService=t,this.activateRoute=n,this.fb=o,this.alertCtrl=r,this.globalService=c,this.navController=u,this.location=m,this.popoverCtrl=_,this.modalController=h,this.loading=!1,this.ques=new s.Oe([]),this.form_name="",this.footerText="",this.isTerms=!1,this.slides=[],this.isBeginning=!0,this.isEnd=!1,this.times=[],this.currentStep=0,this.formCurrentStep=0,this.total_steps=1,this.step_names={},this.temp_steps=[],this.lang="en",this.errors=[],this.allErrors=[],this.criticalError=!1,this.buttonBgColor="#3880ff",this.bgColor="#e5edfb",this.form_status="",this.step="",this.group_form={},this.id=this.activateRoute.snapshot.params.id,this.lang=this.activateRoute.snapshot.params.lang,this.step=this.activateRoute.snapshot.params.step}ngOnInit(){this.questions=new s.cw({question:new s.Oe([])}),this.getSingleForm(this.step),this.currentStep=0}change(){this.currentSlide=this.slides[1]}getSingleForm(t){return(0,d.mG)(this,void 0,void 0,function*(){this.currentStep!=t&&0==this.loading&&(yield K.A.getLanguageCode(),this.questions.reset(),this.ques.reset(),this.loading=!0,this.formApiService.getSingleForm(this.id,t,this.lang).subscribe(o=>{var r,c,u,m,_;if(this.loading=!1,0==this.slides.length){this.total_steps=(null===(r=o?.data)||void 0===r?void 0:r.total_steps)-1,this.step_names=null===(c=o?.data)||void 0===c?void 0:c.step_names,this.temp_steps=Object.keys(null===(u=o?.data)||void 0===u?void 0:u.step_names);for(var h=0;h<this.temp_steps.length;h++)this.slides.push(h)}this.group_form=o.data.group_form,this.buttonBgColor=o.data.group_form.form_submit_button_color,this.bgColor=o.data.group_form.background_color,document.documentElement.style.setProperty("--button-bgcolor",this.buttonBgColor);const g=localStorage.getItem("selected_language_"+this.id)||"";this.footerText=o.data.group_form.footer[g],this.form_status=o.data.form_status,this.isTerms="started"!=this.form_status,this.form_data=o.data,this.formCurrentStep=o.data.max_step_reached,this.form_name=null===(_=null===(m=o?.data)||void 0===m?void 0:m.group_form)||void 0===_?void 0:_.form_name,o.data.attributes.forEach((y,Z)=>{var x;this.ques=this.questions.get("question"),this.ques.push(this.createQuestion(y)),null===(x=y.attribute.options)||void 0===x||x.forEach(ro=>{this.getOptions(Z).push(this.createOption(ro))})})}))})}goToNext(){this.currentStep==this.total_steps?this.navController.navigateRoot(["/"]):this.changeStep(this.currentStep)}clearFormArray(t){for(;0!==t.length;)t.removeAt(0)}questionForm(){return this.questions.get("question")}createQuestion(t){"passport"==t.attribute.type&&this.globalService.passportFilesEvent.next(t.files),"photo_id"==t.attribute.type&&this.globalService.photoIdFilesEvent.next(t.files),"file"==t.attribute.type&&this.globalService.fileUploadEvent.next(t.files),"image"==t.attribute.type&&this.globalService.imageUploadEvent2.next(t.files);var n=[],o="";t.attribute.is_required&&this.checkFile(t.attribute.type)&&n.push(s.kI.required),"alpha"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.pattern("^[a-zA-Z ]*$")),o="Alpha Characters Only"):"alpha_dash"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.pattern("^[a-zA-Z-]+$")),o="Alpha-Dash Characters Only"):"min"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.minLength(5)),o="Minimum Length (5 characters)"):"max"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.maxLength(20)),o="Maximum Length (20 characters)"):"between"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.maxLength(10)),o="Between (1 and 10)"):"alpha_num"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.pattern("^[a-zA-Z0-9]+$")),o="Alpha-Numeric"):"pan_card"==t.attribute.validation&&this.checkFile(t.attribute.type)?(n.push(s.kI.pattern("^[A-Z]{5}[0-9]{4}[A-Z]$")),o="PAN Number"):"decimal"==t.attribute.validation&&this.checkFile(t.attribute.type)&&(n.push(s.kI.pattern(/^\d+(\.\d{0,2})?$/)),o="Decimal");let r=t.value;return("email"==t.attribute.type||"phone"==t.attribute.type)&&""==r?.label&&(r.label="work"),this.fb.group({name:t.attribute.name,type:t.attribute.type,id:t.attribute.id,value:["add_member"==t.attribute.type?"":r,n],code:t.attribute.code,attribute_value_id:t.attribute_value_id,placeHolder:t.attribute.placeHolder,is_required:t.attribute.is_required,lookup_type:t.attribute.lookup_type,attribute_lang:t.attribute.attribute_lang,options:new s.Oe([]),files:t.attribute.files,is_locked:t?.is_locked,validation:t.attribute.validation,validation_message:o,traveller_form_id:this.id,ocr_enabled:t.attribute.ocr_enabled})}checkFile(t){return"file"!=t&&"phone"!=t&&"email"!=t&&"image"!=t&&"address"!=t&&"photo_id"!=t&&"passport"!=t&&"add_member"!=t&&"checkbox"!=t&&"lookup"!=t}getOptions(t){return this.questionForm().at(t).get("options")}createOption(t){return this.fb.group({id:t.id,name:t.name})}showItem(t){return t.value.name}showValue(t){return t.value.value}showOptionsValue(t){return t.controls.name.value}showOptionsId(t){return t.controls.id.value}getType(t){return t.value.type}getName(t){return t.value.name}getStatus(t){return t.value.is_locked}checkRequired(t){var n,o,r;return null===(r=null===(o=null===(n=t.controls)||void 0===n?void 0:n.value)||void 0===o?void 0:o.errors)||void 0===r?void 0:r.required}checkPattern(t){var n,o,r;return null===(r=null===(o=null===(n=t.controls)||void 0===n?void 0:n.value)||void 0===o?void 0:o.errors)||void 0===r?void 0:r.pattern}checkMin(t){var n,o,r;return null===(r=null===(o=null===(n=t.controls)||void 0===n?void 0:n.value)||void 0===o?void 0:o.errors)||void 0===r?void 0:r.minlength}checkMax(t){var n,o,r;return null===(r=null===(o=null===(n=t.controls)||void 0===n?void 0:n.value)||void 0===o?void 0:o.errors)||void 0===r?void 0:r.maxlength}getIsRequired(t){return t.value.is_required}getValidation(t){return t.value.validation}getValidationMessage(t){return t.value.validation_message}getControlId(t){return t.controls.id.value}addressFun(t,n){n.value.value=t}onSubmit(){var t,n,o,r,c,u,m,_;this.errors=[],this.allErrors=[];let h={};null===(t=this.photoIdComponent)||void 0===t||!t.photoIdForm||this.photoIdComponent.photoIdForm.valid?null===(n=this.passportComponent)||void 0===n||!n.passportForm||this.passportComponent.passportForm.valid?null===(o=this.addressComponent)||void 0===o||!o.addressForm||this.addressComponent.addressForm.valid?null===(r=this.fileUploadComponent)||void 0===r||!r.fileUploadForm||this.fileUploadComponent.fileUploadForm.valid?null===(c=this.lookupComponent)||void 0===c||!c.lookupForm||this.lookupComponent.lookupForm.valid?null===(u=this.imageUploadComponent)||void 0===u||!u.imageUploadForm||this.imageUploadComponent.imageUploadForm.valid?null===(m=this.inputEmailComponent)||void 0===m||!m.inputEmailForm||this.inputEmailComponent.inputEmailForm.valid?null===(_=this.inputPhoneComponent)||void 0===_||!_.inputPhoneForm||this.inputPhoneComponent.inputPhoneForm.valid?this.questionForm().valid?(this.questions.value.question.forEach(g=>{h[g.code]=this.isJSON(g.value)}),this.currentStep!=this.total_steps||0!=this.isTerms?(h.save="save",this.globalService.presentLoading(),this.formApiService.updateForms(h,this.id,this.temp_steps[this.currentStep]).subscribe(g=>{this.currentStep==this.total_steps?this.finalSave(g):this.changeStep(this.temp_steps[this.formCurrentStep]!=this.total_steps?this.currentStep:this.total_steps-1)},g=>{this.errors=g.error.data.errors[this.temp_steps[this.currentStep]],this.allErrors=g.error.data.errors})):this.globalService.showMessage("Please agree on the acknowledgement")):this.questionForm().markAllAsTouched():this.inputPhoneComponent.inputPhoneForm.markAllAsTouched():this.inputEmailComponent.inputEmailForm.markAllAsTouched():this.imageUploadComponent.imageUploadForm.markAllAsTouched():this.lookupComponent.lookupForm.markAllAsTouched():this.fileUploadComponent.fileUploadForm.markAllAsTouched():this.addressComponent.addressForm.markAllAsTouched():this.passportComponent.passportForm.markAllAsTouched():this.photoIdComponent.photoIdForm.markAllAsTouched()}getErrors(t){return this.allErrors[t]}finalSave(t){let n={};t.data[0].attributes.forEach(o=>{n[o.attribute.code]=this.isJSON(o.value)}),n.save="final_save",this.formApiService.updateForms(n,this.id,this.temp_steps[this.currentStep]).subscribe(o=>{this.contentUploading()},o=>{this.errors=o.error.data.errors[this.currentStep],this.allErrors=o.error.data.errors})}isJSON(t){try{return JSON.parse(t)}catch{return t}}segmentChanged(t){this.criticalError=!1,this.clearFormArray(this.questionForm()),this.getSingleForm(this.temp_steps[Number(t.target.value)]),this.currentStep=Number(t.target.value)}changeStep(t){this.errors=[];const n=++t;this.clearFormArray(this.questionForm()),this.segment.value=n.toString()}passportFun(t,n){n.value.value=t}criticalFun(t){this.criticalError=1==t}photoIdFun(t,n){n.value.value=t}fileUploadFun(t,n){n.value.value=t.value}imageUploadEvent(t,n){n.value.value=t.value}checkboxFun(t,n){n.value.value=t}lookupFun(t,n){n.value.value=t}inputEmailFun(t,n){console.log(t),n.value.value=t}inputPhoneFun(t,n){console.log(t),n.value.value=t}memberEvent(t,n){n.value.value=t}exitPage(){this.navController.pop()}back(){this.location.back()}scrollScreen(t){console.log("called fun"),this.content.scrollToBottom(1300)}contentUploading(){return(0,d.mG)(this,void 0,void 0,function*(){this.globalService.completeFormEvent.next("update"),this.formSuccess=yield this.modalController.create({component:Oe,backdropDismiss:!0,mode:"ios",componentProps:{heading:"Form Submitted",group_form:this.group_form}}),yield this.formSuccess.present()})}formatDate(t,n){Array.isArray(t)&&(t=t[0]);const o=new Date(t);let r=o.getDate().toString();1==r.length&&(r="0"+r);const c=o.getFullYear()+"-"+b.j8[o.getMonth()]+"-"+r;return n.value.value=c,c}formatDate2(t,n){Array.isArray(t)&&(t=t[0]);const o=new Date(t);let r=o.getDate().toString();1==r.length&&(r="0"+r);let c=o.getHours().toString();1==c.length&&(c="0"+c);let u=o.getMinutes().toString();1==u.length&&(u="0"+u);let m=o.getSeconds().toString();1==m.length&&(m="0"+m);const _=o.getFullYear()+"-"+b.j8[o.getMonth()]+"-"+r+" "+c+":"+u+":"+m;return n.value.value=_,_}closePopup(){this.popoverCtrl.dismiss()}termsChkBoxEvent(){this.isTerms=!this.isTerms}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(F.$),e.Y36(I.gz),e.Y36(s.qu),e.Y36(l.Br),e.Y36(q.U),e.Y36(l.SH),e.Y36(p.Ye),e.Y36(l.Dh),e.Y36(l.IN))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-fill-form"]],viewQuery:function(t,n){if(1&t&&(e.Gf(R,5),e.Gf(V,5),e.Gf(S,5),e.Gf(J,5),e.Gf(j,5),e.Gf(Y,5),e.Gf(D,5),e.Gf(B,5),e.Gf(Yn,5),e.Gf(Dn,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.passportComponent=o.first),e.iGM(o=e.CRH())&&(n.photoIdComponent=o.first),e.iGM(o=e.CRH())&&(n.addressComponent=o.first),e.iGM(o=e.CRH())&&(n.fileUploadComponent=o.first),e.iGM(o=e.CRH())&&(n.lookupComponent=o.first),e.iGM(o=e.CRH())&&(n.imageUploadComponent=o.first),e.iGM(o=e.CRH())&&(n.inputEmailComponent=o.first),e.iGM(o=e.CRH())&&(n.inputPhoneComponent=o.first),e.iGM(o=e.CRH())&&(n.content=o.first),e.iGM(o=e.CRH())&&(n.segment=o.first)}},decls:27,vars:9,consts:[["content",""],[1,"box-form"],["size-xs","12","size-md","3"],["mode","android","value","0","scrollable","",3,"ionChange"],["segment",""],[3,"value",4,"ngFor","ngForOf"],["size-xs","12","size-md","9"],[3,"formGroup","ngSubmit"],["formArrayName","question",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","class","primary-btn","ion-button","","size","full",3,"click",4,"ngIf"],["type","submit","class","primary-btn","ion-button","","size","full",3,"disabled",4,"ngIf"],["style","text-align: center",4,"ngIf"],[3,"value"],["formArrayName","question"],[1,"form-group",3,"formGroupName"],[3,"disabled"],["class","compulsory",4,"ngIf"],["formControlName","value",3,"multiple"],["class","error-message",4,"ngIf"],[1,"compulsory"],[1,"error-message"],["type","date","formControlName","value"],["type","datetime-local","formControlName","value"],["formControlName","value","type","text"],["text-wrap","","lines","none"],["slot","end","formControlName","value",1,"custom-spacing",3,"enableOnOffLabels"],["formControlName","value"],["formControlName","value","type","number"],["formControlName","value","v-model","accept"],["slot","start",3,"value"],[3,"item","inputPhoneEvent"],[3,"item","inputEmailEvent"],[3,"item","lookupEvent"],[3,"item","checkboxEvent"],[3,"item","fileUploadEvent"],[3,"item","imageUploadEvent"],[3,"item","isRequired","addressEvent"],[3,"item","criticalEvent","photoIdEvent","scrollEvent"],[3,"item","criticalEvent","passportEvent","scrollEvent"],[3,"item","lang","form_data","memberEvent"],[3,"innerHTML"],[3,"checked","ionChange"],[2,"color","blue","text-decoration","underline",3,"click"],[2,"color","red"],["type","button","ion-button","","size","full",1,"primary-btn",3,"click"],["type","submit","ion-button","","size","full",1,"primary-btn",3,"disabled"],[2,"text-align","center"],["src","assets/images/loading.gif","width","300px"]],template:function(t,n){1&t&&(e.TgZ(0,"ion-content",null,0)(2,"div",1),e._UZ(3,"app-header"),e.TgZ(4,"ion-grid")(5,"ion-row")(6,"ion-col",2)(7,"ion-card")(8,"ion-card-content")(9,"ion-segment",3,4),e.NdJ("ionChange",function(r){return n.segmentChanged(r)}),e.YNc(11,Bn,3,2,"ion-segment-button",5),e.qZA()()()(),e.TgZ(12,"ion-col",6)(13,"ion-card")(14,"ion-card-content")(15,"ion-row")(16,"ion-col")(17,"h1"),e._uU(18),e.qZA()()(),e._UZ(19,"hr"),e.TgZ(20,"form",7),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.YNc(21,Ji,13,12,"ng-container",8),e.YNc(22,Qi,8,2,"ion-card",9),e.YNc(23,Si,2,1,"ng-container",10),e.YNc(24,Yi,2,1,"ion-button",11),e.YNc(25,Di,2,2,"ion-button",12),e.qZA(),e.YNc(26,Bi,2,0,"div",13),e.qZA()()()()()()()),2&t&&(e.xp6(11),e.Q6J("ngForOf",n.slides),e.xp6(7),e.Oqu(n.form_name),e.xp6(2),e.Q6J("formGroup",n.questions),e.xp6(1),e.Q6J("ngForOf",n.questionForm().controls),e.xp6(1),e.Q6J("ngIf",!n.loading&&n.total_steps==n.currentStep),e.xp6(1),e.Q6J("ngForOf",n.slides),e.xp6(1),e.Q6J("ngIf",!n.loading&&"completed"==n.form_status),e.xp6(1),e.Q6J("ngIf",!n.loading&&"completed"!=n.form_status),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,l.YG,l.PM,l.FN,l.nz,l.wI,l.W2,l.jY,l.pK,l.Ie,l.Q$,l.B7,l.se,l.Nd,l.cJ,l.GO,l.t9,l.n0,l.g2,l.ho,l.w,l.as,l.U5,l.QI,l.j9,s.sg,s.u,s.x0,s.CE,S,V,R,J,j,Jn,Qn.G,Sn,Y,D,B],styles:["ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{border:0px gray solid;background-color:#ddd;border-radius:10px;margin-top:5px}.box-form[_ngcontent-%COMP%]{padding:15px;height:100%}ion-segment-button[_ngcontent-%COMP%]{background:white;font-size:12px;font-weight:700}ion-card[_ngcontent-%COMP%]{margin:10px 0}.box-form[_ngcontent-%COMP%]{overflow:scroll;background:var(--bgcolor);padding:15px;height:100%}ion-segment[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;text-align:left;height:auto;width:auto}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{float:left;clear:left;text-align:left;width:100%;max-width:100%}ion-segment-button[_ngcontent-%COMP%]{--indicator-color: var(--button-bgcolor)}ion-segment-button.md[_ngcontent-%COMP%]{--color: #000;--color-checked: var(--button-bgcolor);--indicator-height: 2px}ion-segment-button.ios[_ngcontent-%COMP%]{--color: var(--button-bgcolor);--color-checked: #fff;--border-radius: 20px}ion-popover[_ngcontent-%COMP%]{--width: 300px}ion-datetime[_ngcontent-%COMP%]{background:#fff;--background: #fff}ion-content[_ngcontent-%COMP%]{--background: #e5edfb !important}"]}),i})()}];let Gi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[I.Bz.forChild(ji),I.Bz]}),i})(),$i=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),N=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})();const Ri=[];let Vi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[I.Bz.forChild(Ri),I.Bz]}),i})(),H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,Vi]}),i})(),zi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,N,M,H]}),i})(),Hi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,N,M,H]}),i})(),L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,N,M]}),i})(),Li=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),Ki=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,L]}),i})(),Xi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,Ki]}),i})();var Wi=f(4546);let eo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),to=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),no=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX,N,M]}),i})(),io=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),oo=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,s.UX]}),i})(),ao=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,s.u5,l.Pc,Gi,s.UX,$i,zi,Hi,L,Li,to,Xi,Wi.O,eo,no,io,oo]}),i})()}}]);